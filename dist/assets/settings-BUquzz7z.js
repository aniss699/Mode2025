import{r as h,u as U,b as ee,j as e,c as se,P as R,e as ae,_ as te}from"./ui-D9tbKjPW.js";import{h as I,c as A,a as ie,i as re,b as N,f as y,s as k,t as C,N as c,M as O,G as ne,O as ce,ad as le,B as T}from"./index-CnNAvbjZ.js";import{u as oe}from"./index-DLM4OUNl.js";import{T as de,a as me,b as P,c as M}from"./tabs-DL6-Pj9q.js";import{S as q}from"./shield-BiX0R7vY.js";import{P as L}from"./palette-DvmsxuA1.js";import{T as _}from"./trending-up-AsJvdca2.js";import{S as he}from"./star-Ds2zKMwH.js";import"./vendor-D3F3s8fL.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=I("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=I("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=I("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var S="Switch",[xe,Ee]=se(S),[ue,pe]=xe(S),D=h.forwardRef((i,r)=>{const{__scopeSwitch:l,name:x,checked:t,defaultChecked:n,required:d,disabled:m,value:u="on",onCheckedChange:f,form:j,...g}=i,[v,s]=h.useState(null),a=U(r,w=>s(w)),p=h.useRef(!1),B=v?j||!!v.closest("form"):!0,[b,Y]=ee({prop:t,defaultProp:n??!1,onChange:f,caller:S});return e.jsxs(ue,{scope:l,checked:b,disabled:m,children:[e.jsx(R.button,{type:"button",role:"switch","aria-checked":b,"aria-required":d,"data-state":$(b),"data-disabled":m?"":void 0,disabled:m,value:u,...g,ref:a,onClick:ae(i.onClick,w=>{Y(Z=>!Z),B&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),B&&e.jsx(J,{control:v,bubbles:!p.current,name:x,value:u,checked:b,required:d,disabled:m,form:j,style:{transform:"translateX(-100%)"}})]})});D.displayName=S;var F="SwitchThumb",G=h.forwardRef((i,r)=>{const{__scopeSwitch:l,...x}=i,t=pe(F,l);return e.jsx(R.span,{"data-state":$(t.checked),"data-disabled":t.disabled?"":void 0,...x,ref:r})});G.displayName=F;var fe="SwitchBubbleInput",J=h.forwardRef(({__scopeSwitch:i,control:r,checked:l,bubbles:x=!0,...t},n)=>{const d=h.useRef(null),m=U(d,n),u=oe(l),f=te(r);return h.useEffect(()=>{const j=d.current;if(!j)return;const g=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(g,"checked").set;if(u!==l&&s){const a=new Event("click",{bubbles:x});s.call(j,l),j.dispatchEvent(a)}},[u,l,x]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l,...t,tabIndex:-1,ref:m,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});J.displayName=fe;function $(i){return i?"checked":"unchecked"}var Q=D,je=G;const o=h.forwardRef(({className:i,...r},l)=>e.jsx(Q,{className:A("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",i),...r,ref:l,children:e.jsx(je,{className:A("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));o.displayName=Q.displayName;var ve="Separator",z="horizontal",ge=["horizontal","vertical"],W=h.forwardRef((i,r)=>{const{decorative:l,orientation:x=z,...t}=i,n=Ne(x)?x:z,m=l?{role:"none"}:{"aria-orientation":n==="vertical"?n:void 0,role:"separator"};return e.jsx(R.div,{"data-orientation":n,...m,...t,ref:r})});W.displayName=ve;function Ne(i){return ge.includes(i)}var X=W;const K=h.forwardRef(({className:i,orientation:r="horizontal",decorative:l=!0,...x},t)=>e.jsx(X,{ref:t,decorative:l,orientation:r,className:A("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",i),...x}));K.displayName=X.displayName;function Ae(){const{user:i}=ie(),{toast:r}=re(),[l,x]=h.useState(!0),[t,n]=h.useState({newMissions:!0,newBids:!0,messages:!0,payments:!0,reviews:!0,systemUpdates:!0,marketTrends:!1,emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,quietHours:!1,weekendNotifications:!0,instantNotifications:!1}),[d,m]=h.useState({profileVisibility:"public",showActivity:!0,showLastSeen:!0,allowDirectMessages:!0,showInSearchResults:!0}),[u,f]=h.useState({theme:"auto",language:"fr",compactMode:!1,showAnimations:!0});h.useEffect(()=>{(async()=>{if(i)try{const a=await fetch("/api/user-settings",{headers:{"x-user-id":i.id.toString()}});if(a.ok){const p=await a.json();p.notifications&&n(p.notifications),p.privacy&&m(p.privacy),p.appearance&&f(p.appearance)}}catch(a){console.error("Erreur chargement paramètres:",a)}finally{x(!1)}})()},[i]);const j=async()=>{try{if((await fetch("/api/user-settings",{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":i.id.toString()},body:JSON.stringify({notifications:t,privacy:d,appearance:u})})).ok)r({title:"Paramètres sauvegardés",description:"Vos préférences de notifications ont été mises à jour."});else throw new Error("Erreur réseau")}catch{r({title:"Erreur",description:"Impossible de sauvegarder les paramètres.",variant:"destructive"})}},g=async()=>{try{if((await fetch("/api/user-settings",{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":i.id.toString()},body:JSON.stringify({notifications:t,privacy:d,appearance:u})})).ok)r({title:"Paramètres sauvegardés",description:"Vos préférences de confidentialité ont été mises à jour."});else throw new Error("Erreur réseau")}catch{r({title:"Erreur",description:"Impossible de sauvegarder les paramètres.",variant:"destructive"})}},v=async()=>{try{if((await fetch("/api/user-settings",{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":i.id.toString()},body:JSON.stringify({notifications:t,privacy:d,appearance:u})})).ok)r({title:"Paramètres sauvegardés",description:"Vos préférences d'apparence ont été mises à jour."});else throw new Error("Erreur réseau")}catch{r({title:"Erreur",description:"Impossible de sauvegarder les paramètres.",variant:"destructive"})}};return i?l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsx(N,{className:"max-w-md w-full mx-4",children:e.jsxs(y,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Chargement..."}),e.jsx("p",{className:"text-gray-600",children:"Récupération de vos paramètres"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Paramètres"}),e.jsx("p",{className:"text-gray-600",children:"Gérez vos préférences et paramètres de compte"})]}),e.jsxs(de,{defaultValue:"notifications",className:"space-y-6",children:[e.jsxs(me,{className:"grid w-full grid-cols-3",children:[e.jsxs(P,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),"Notifications"]}),e.jsxs(P,{value:"privacy",className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),"Confidentialité"]}),e.jsxs(P,{value:"appearance",className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4"}),"Apparence"]})]}),e.jsx(M,{value:"notifications",className:"space-y-6",children:e.jsxs(N,{children:[e.jsx(k,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5 text-blue-600"}),"Types de notifications"]})}),e.jsxs(y,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"w-4 h-4 text-blue-500"}),e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Nouvelles missions"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Missions correspondant à vos critères"})]})]}),e.jsx(o,{checked:t.newMissions,onCheckedChange:s=>n(a=>({...a,newMissions:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{className:"w-4 h-4 text-green-500"}),e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Nouvelles offres"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Offres reçues sur vos missions"})]})]}),e.jsx(o,{checked:t.newBids,onCheckedChange:s=>n(a=>({...a,newBids:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{className:"w-4 h-4 text-purple-500"}),e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Messages"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nouveaux messages reçus"})]})]}),e.jsx(o,{checked:t.messages,onCheckedChange:s=>n(a=>({...a,messages:s}))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{className:"w-4 h-4 text-yellow-500"}),e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Paiements"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Transactions et factures"})]})]}),e.jsx(o,{checked:t.payments,onCheckedChange:s=>n(a=>({...a,payments:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"w-4 h-4 text-orange-500"}),e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Avis et évaluations"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nouveaux avis reçus"})]})]}),e.jsx(o,{checked:t.reviews,onCheckedChange:s=>n(a=>({...a,reviews:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"w-4 h-4 text-indigo-500"}),e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Tendances marché"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Analyse et insights IA"})]})]}),e.jsx(o,{checked:t.marketTrends,onCheckedChange:s=>n(a=>({...a,marketTrends:s}))})]})]})]}),e.jsx(K,{}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4"}),"Canaux de notification"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ce,{className:"w-4 h-4 text-blue-500"}),e.jsx(c,{children:"Email"})]}),e.jsx(o,{checked:t.emailNotifications,onCheckedChange:s=>n(a=>({...a,emailNotifications:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(le,{className:"w-4 h-4 text-green-500"}),e.jsx(c,{children:"Push"})]}),e.jsx(o,{checked:t.pushNotifications,onCheckedChange:s=>n(a=>({...a,pushNotifications:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{className:"w-4 h-4 text-purple-500"}),e.jsx(c,{children:"SMS"})]}),e.jsx(o,{checked:t.smsNotifications,onCheckedChange:s=>n(a=>({...a,smsNotifications:s}))})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(T,{onClick:j,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})})]})]})}),e.jsx(M,{value:"privacy",className:"space-y-6",children:e.jsxs(N,{children:[e.jsx(k,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-green-600"}),"Paramètres de confidentialité"]})}),e.jsxs(y,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Visibilité du profil"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Qui peut voir votre profil"})]}),e.jsxs("select",{className:"border rounded px-3 py-2",value:d.profileVisibility,onChange:s=>m(a=>({...a,profileVisibility:s.target.value})),children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"contacts",children:"Contacts uniquement"}),e.jsx("option",{value:"private",children:"Privé"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Afficher dans les résultats de recherche"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Apparaître dans les recherches publiques"})]}),e.jsx(o,{checked:d.showInSearchResults,onCheckedChange:s=>m(a=>({...a,showInSearchResults:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Autoriser les messages directs"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Recevoir des messages de tous les utilisateurs"})]}),e.jsx(o,{checked:d.allowDirectMessages,onCheckedChange:s=>m(a=>({...a,allowDirectMessages:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Afficher l'activité"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Montrer votre statut d'activité"})]}),e.jsx(o,{checked:d.showActivity,onCheckedChange:s=>m(a=>({...a,showActivity:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Afficher la dernière connexion"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Montrer quand vous étiez en ligne"})]}),e.jsx(o,{checked:d.showLastSeen,onCheckedChange:s=>m(a=>({...a,showLastSeen:s}))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(T,{onClick:g,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})})]})]})}),e.jsx(M,{value:"appearance",className:"space-y-6",children:e.jsxs(N,{children:[e.jsx(k,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5 text-purple-600"}),"Paramètres d'apparence"]})}),e.jsxs(y,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Thème"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Choisir l'apparence de l'interface"})]}),e.jsxs("select",{className:"border rounded px-3 py-2",value:u.theme,onChange:s=>f(a=>({...a,theme:s.target.value})),children:[e.jsx("option",{value:"auto",children:"Automatique"}),e.jsx("option",{value:"light",children:"Clair"}),e.jsx("option",{value:"dark",children:"Sombre"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Langue"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Langue de l'interface"})]}),e.jsxs("select",{className:"border rounded px-3 py-2",value:u.language,onChange:s=>f(a=>({...a,language:s.target.value})),children:[e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Mode compact"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Interface plus dense"})]}),e.jsx(o,{checked:u.compactMode,onCheckedChange:s=>f(a=>({...a,compactMode:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(c,{className:"font-medium",children:"Animations"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Activer les animations d'interface"})]}),e.jsx(o,{checked:u.showAnimations,onCheckedChange:s=>f(a=>({...a,showAnimations:s}))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(T,{onClick:v,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})})]})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsx(N,{className:"max-w-md w-full mx-4",children:e.jsxs(y,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600",children:"Connectez-vous pour accéder aux paramètres"})]})})})}export{Ae as default};
