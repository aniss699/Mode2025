import{r as l,j as e}from"./ui-D9tbKjPW.js";import{A as o,m as t}from"./ArticleFormMVP-K9Q0J1pO.js";import{B as x}from"./index-DawvkX91.js";import"./vendor-D3F3s8fL.js";function g(){const[d,r]=l.useState([]),[m,n]=l.useState([]);function c(){r(t.getArticles().filter(s=>s.isPublic)),n(t.getProfiles())}return l.useEffect(()=>{c()},[]),e.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[e.jsx("div",{className:"mb-6 grid grid-cols-1 gap-4",children:e.jsx(o,{onSaved:()=>c()})}),e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Feed communautaire"}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(s=>{const a=m.find(i=>i.id===s.userId)||{name:"Utilisateur"};return e.jsxs("div",{className:"bg-white rounded shadow-sm overflow-hidden",children:[e.jsx("img",{src:s.images?.[0],alt:s.title,className:"w-full h-56 object-cover"}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-sm",children:a.name.split(" ").map(i=>i[0]).join("")}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.name}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleString()})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(x,{size:"sm",onClick:()=>{t.toggleLike(s.id,"me"),r(t.getArticles().filter(i=>i.isPublic))},children:["❤️ ",s.likes?.length||0]})})]}),e.jsx("div",{className:"font-semibold",children:s.title})]})]},s.id)})})]})}export{g as default};
