import{r as m,u as U,b as ee,j as e,c as se,P as L,e as ae,_ as te}from"./ui-D9tbKjPW.js";import{c as S,w as I,a as ie,h as re,b as ne,e as y,g as b,t as T,v as P,T as B,L as n,M as q,G as ce,Y as le,B as M}from"./index-D9VBIMSB.js";import{u as oe}from"./index-DLM4OUNl.js";import{T as de,a as me,b as E,c as A}from"./tabs-A1DAudjK.js";import{S as O}from"./shield-DLImn77w.js";import{P as _}from"./palette-DaHKuRzT.js";import{S as he}from"./star-RciVMI8r.js";import"./vendor-D3F3s8fL.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=S("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=S("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=S("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=S("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var C="Switch",[ue,Ee]=se(C),[pe,fe]=ue(C),D=m.forwardRef((t,r)=>{const{__scopeSwitch:o,name:h,checked:x,defaultChecked:i,required:c,disabled:l,value:u="on",onCheckedChange:f,form:p,...N}=t,[g,v]=m.useState(null),s=U(r,k=>v(k)),a=m.useRef(!1),j=g?p||!!g.closest("form"):!0,[w,K]=ee({prop:x,defaultProp:i??!1,onChange:f,caller:C});return e.jsxs(pe,{scope:o,checked:w,disabled:l,children:[e.jsx(L.button,{type:"button",role:"switch","aria-checked":w,"aria-required":c,"data-state":$(w),"data-disabled":l?"":void 0,disabled:l,value:u,...N,ref:s,onClick:ae(t.onClick,k=>{K(Z=>!Z),j&&(a.current=k.isPropagationStopped(),a.current||k.stopPropagation())})}),j&&e.jsx(J,{control:g,bubbles:!a.current,name:h,value:u,checked:w,required:c,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});D.displayName=C;var F="SwitchThumb",G=m.forwardRef((t,r)=>{const{__scopeSwitch:o,...h}=t,x=fe(F,o);return e.jsx(L.span,{"data-state":$(x.checked),"data-disabled":x.disabled?"":void 0,...h,ref:r})});G.displayName=F;var je="SwitchBubbleInput",J=m.forwardRef(({__scopeSwitch:t,control:r,checked:o,bubbles:h=!0,...x},i)=>{const c=m.useRef(null),l=U(c,i),u=oe(o),f=te(r);return m.useEffect(()=>{const p=c.current;if(!p)return;const N=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(N,"checked").set;if(u!==o&&v){const s=new Event("click",{bubbles:h});v.call(p,o),p.dispatchEvent(s)}},[u,o,h]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...x,tabIndex:-1,ref:l,style:{...x.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});J.displayName=je;function $(t){return t?"checked":"unchecked"}var Q=D,ge=G;const d=m.forwardRef(({className:t,...r},o)=>e.jsx(Q,{className:I("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:o,children:e.jsx(ge,{className:I("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));d.displayName=Q.displayName;var ve="Separator",z="horizontal",Ne=["horizontal","vertical"],W=m.forwardRef((t,r)=>{const{decorative:o,orientation:h=z,...x}=t,i=ye(h)?h:z,l=o?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(L.div,{"data-orientation":i,...l,...x,ref:r})});W.displayName=ve;function ye(t){return Ne.includes(t)}var X=W;const Y=m.forwardRef(({className:t,orientation:r="horizontal",decorative:o=!0,...h},x)=>e.jsx(X,{ref:x,decorative:o,orientation:r,className:I("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...h}));Y.displayName=X.displayName;function Ae(){const{user:t}=ie(),{toast:r}=re(),{t:o}=ne(),[h,x]=m.useState(!0),[i,c]=m.useState({newMissions:!0,newBids:!0,messages:!0,payments:!0,reviews:!0,systemUpdates:!0,marketTrends:!1,emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,quietHours:!1,weekendNotifications:!0,instantNotifications:!1}),[l,u]=m.useState({profileVisibility:"public",showActivity:!0,showLastSeen:!0,allowDirectMessages:!0,showInSearchResults:!0}),[f,p]=m.useState({theme:"auto",language:"fr",compactMode:!1,showAnimations:!0});m.useEffect(()=>{(async()=>{if(t)try{const a=await fetch("/api/user-settings",{headers:{"x-user-id":t.id.toString()}});if(a.ok){const j=await a.json();j.notifications&&c(j.notifications),j.privacy&&u(j.privacy),j.appearance&&p(j.appearance)}}catch(a){console.error("Erreur chargement paramètres:",a)}finally{x(!1)}})()},[t]);const N=async()=>{try{if((await fetch("/api/user-settings",{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":t.id.toString()},body:JSON.stringify({notifications:i,privacy:l,appearance:f})})).ok)r({title:"Paramètres sauvegardés",description:"Vos préférences de notifications ont été mises à jour."});else throw new Error("Erreur réseau")}catch{r({title:"Erreur",description:"Impossible de sauvegarder les paramètres.",variant:"destructive"})}},g=async()=>{try{if((await fetch("/api/user-settings",{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":t.id.toString()},body:JSON.stringify({notifications:i,privacy:l,appearance:f})})).ok)r({title:"Paramètres sauvegardés",description:"Vos préférences de confidentialité ont été mises à jour."});else throw new Error("Erreur réseau")}catch{r({title:"Erreur",description:"Impossible de sauvegarder les paramètres.",variant:"destructive"})}},v=async()=>{try{if((await fetch("/api/user-settings",{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":t.id.toString()},body:JSON.stringify({notifications:i,privacy:l,appearance:f})})).ok)r({title:"Paramètres sauvegardés",description:"Vos préférences d'apparence ont été mises à jour."});else throw new Error("Erreur réseau")}catch{r({title:"Erreur",description:"Impossible de sauvegarder les paramètres.",variant:"destructive"})}};return t?h?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsx(y,{className:"max-w-md w-full mx-4",children:e.jsxs(b,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Chargement..."}),e.jsx("p",{className:"text-gray-600",children:"Récupération de vos paramètres"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Paramètres"}),e.jsx("p",{className:"text-gray-600",children:"Gérez vos préférences et paramètres de compte"})]}),e.jsxs(de,{defaultValue:"notifications",className:"space-y-6",children:[e.jsxs(me,{className:"grid w-full grid-cols-3",children:[e.jsxs(E,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),"Notifications"]}),e.jsxs(E,{value:"privacy",className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),"Confidentialité"]}),e.jsxs(E,{value:"appearance",className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"Apparence"]})]}),e.jsx(A,{value:"notifications",className:"space-y-6",children:e.jsxs(y,{children:[e.jsx(T,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5 text-blue-600"}),"Types de notifications"]})}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{className:"w-4 h-4 text-blue-500"}),e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Nouvelles missions"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Missions correspondant à vos critères"})]})]}),e.jsx(d,{checked:i.newMissions,onCheckedChange:s=>c(a=>({...a,newMissions:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{className:"w-4 h-4 text-green-500"}),e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Nouvelles offres"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Offres reçues sur vos missions"})]})]}),e.jsx(d,{checked:i.newBids,onCheckedChange:s=>c(a=>({...a,newBids:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(q,{className:"w-4 h-4 text-purple-500"}),e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Messages"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nouveaux messages reçus"})]})]}),e.jsx(d,{checked:i.messages,onCheckedChange:s=>c(a=>({...a,messages:s}))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{className:"w-4 h-4 text-yellow-500"}),e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Paiements"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Transactions et factures"})]})]}),e.jsx(d,{checked:i.payments,onCheckedChange:s=>c(a=>({...a,payments:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"w-4 h-4 text-orange-500"}),e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Avis et évaluations"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nouveaux avis reçus"})]})]}),e.jsx(d,{checked:i.reviews,onCheckedChange:s=>c(a=>({...a,reviews:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{className:"w-4 h-4 text-indigo-500"}),e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Tendances marché"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Analyse et insights IA"})]})]}),e.jsx(d,{checked:i.marketTrends,onCheckedChange:s=>c(a=>({...a,marketTrends:s}))})]})]})]}),e.jsx(Y,{}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4"}),"Canaux de notification"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(le,{className:"w-4 h-4 text-blue-500"}),e.jsx(n,{children:"Email"})]}),e.jsx(d,{checked:i.emailNotifications,onCheckedChange:s=>c(a=>({...a,emailNotifications:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xe,{className:"w-4 h-4 text-green-500"}),e.jsx(n,{children:"Push"})]}),e.jsx(d,{checked:i.pushNotifications,onCheckedChange:s=>c(a=>({...a,pushNotifications:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(q,{className:"w-4 h-4 text-purple-500"}),e.jsx(n,{children:"SMS"})]}),e.jsx(d,{checked:i.smsNotifications,onCheckedChange:s=>c(a=>({...a,smsNotifications:s}))})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(M,{onClick:N,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})})]})]})}),e.jsx(A,{value:"privacy",className:"space-y-6",children:e.jsxs(y,{children:[e.jsx(T,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5 text-green-600"}),"Paramètres de confidentialité"]})}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Visibilité du profil"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Qui peut voir votre profil"})]}),e.jsxs("select",{className:"border rounded px-3 py-2",value:l.profileVisibility,onChange:s=>u(a=>({...a,profileVisibility:s.target.value})),children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"contacts",children:"Contacts uniquement"}),e.jsx("option",{value:"private",children:"Privé"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Afficher dans les résultats de recherche"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Apparaître dans les recherches publiques"})]}),e.jsx(d,{checked:l.showInSearchResults,onCheckedChange:s=>u(a=>({...a,showInSearchResults:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Autoriser les messages directs"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Recevoir des messages de tous les utilisateurs"})]}),e.jsx(d,{checked:l.allowDirectMessages,onCheckedChange:s=>u(a=>({...a,allowDirectMessages:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Afficher l'activité"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Montrer votre statut d'activité"})]}),e.jsx(d,{checked:l.showActivity,onCheckedChange:s=>u(a=>({...a,showActivity:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Afficher la dernière connexion"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Montrer quand vous étiez en ligne"})]}),e.jsx(d,{checked:l.showLastSeen,onCheckedChange:s=>u(a=>({...a,showLastSeen:s}))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(M,{onClick:g,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})})]})]})}),e.jsx(A,{value:"appearance",className:"space-y-6",children:e.jsxs(y,{children:[e.jsx(T,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5 text-purple-600"}),"Paramètres d'apparence"]})}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Thème"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Choisir l'apparence de l'interface"})]}),e.jsxs("select",{className:"border rounded px-3 py-2",value:f.theme,onChange:s=>p(a=>({...a,theme:s.target.value})),children:[e.jsx("option",{value:"auto",children:"Automatique"}),e.jsx("option",{value:"light",children:"Clair"}),e.jsx("option",{value:"dark",children:"Sombre"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Langue"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Langue de l'interface"})]}),e.jsxs("select",{className:"border rounded px-3 py-2",value:f.language,onChange:s=>p(a=>({...a,language:s.target.value})),children:[e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Mode compact"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Interface plus dense"})]}),e.jsx(d,{checked:f.compactMode,onCheckedChange:s=>p(a=>({...a,compactMode:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-medium",children:"Animations"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Activer les animations d'interface"})]}),e.jsx(d,{checked:f.showAnimations,onCheckedChange:s=>p(a=>({...a,showAnimations:s}))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(M,{onClick:v,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})})]})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsx(y,{className:"max-w-md w-full mx-4",children:e.jsxs(b,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600",children:"Connectez-vous pour accéder aux paramètres"})]})})})}export{Ae as default};
