import{r as i,j as e}from"./ui-D9tbKjPW.js";import{u as j,a as g,J as N,K as f,N as n,b as v,p as w,r as S,d as C,L as l,O as y,I as o,B as L,Q as A}from"./index-PswBhxNd.js";import{A as c,a as d}from"./alert-CDHzkQ1f.js";import{L as E}from"./lock-DHhRwaXe.js";import"./vendor-D3F3s8fL.js";function D(){const[,m]=j(),{login:u}=g(),[t,x]=i.useState(""),[r,h]=i.useState(""),p=N("/api/auth/login",{successMessage:"Connexion réussie ! Bienvenue sur Swideal",errorContext:"Connexion utilisateur",onSuccess:s=>{u(s.user),setTimeout(()=>{m("/")},1e3)}}),a=f({onSubmit:async s=>{p.mutate(s)},validateBeforeSubmit:A.validateAuth}),b=s=>{s.preventDefault(),a.handleSubmit({email:t,password:r})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-4xl w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-2 flex items-center justify-center",children:[e.jsx(n,{className:"w-10 h-10 mr-3 text-blue-600"}),"Connexion Swideal"]}),e.jsx("p",{className:"text-xl text-gray-600",children:"Accédez à votre espace personnel"})]}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(v,{className:"shadow-lg",children:[e.jsx(w,{children:e.jsx(S,{className:"text-2xl text-center",children:"Se connecter"})}),e.jsx(C,{children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(l,{htmlFor:"email",className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Email"]}),e.jsx(o,{id:"email",type:"email",value:t,onChange:s=>x(s.target.value),placeholder:"votre@email.com",required:!0,"data-testid":"input-email"})]}),e.jsxs("div",{children:[e.jsxs(l,{htmlFor:"password",className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"Mot de passe"]}),e.jsx(o,{id:"password",type:"password",value:r,onChange:s=>h(s.target.value),placeholder:"••••••••",required:!0,"data-testid":"input-password"})]}),a.submitError&&e.jsx(c,{className:"bg-red-50 border-red-200",children:e.jsx(d,{className:"text-red-700",children:a.submitError})}),a.submitSuccess&&e.jsx(c,{className:"bg-green-50 border-green-200",children:e.jsx(d,{className:"text-green-700",children:a.submitSuccess})}),e.jsx(L,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:a.isSubmitting,"data-testid":"button-login",children:a.isSubmitting?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border border-white border-t-transparent rounded-full animate-spin"}),"Connexion..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"w-4 h-4"}),"Se connecter"]})})]})})]})})]})})}export{D as default};
