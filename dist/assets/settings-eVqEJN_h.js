import{r as x,j as e,P as B}from"./ui-BcXBiFQq.js";import{c as I,y as D,a as U,f as H,C as f,d as g,b as N,h as v,L as t,M as S,W as G,G as J,ah as F,B as y}from"./index-UHF_cghE.js";import{S as r}from"./switch-GDEOYVqu.js";import{T as Q,a as W,b as w,c as b}from"./tabs-d_nGZes2.js";import{S as k}from"./shield-lRk7rQB2.js";import{P as T}from"./palette-B9PcpEyJ.js";import{T as A}from"./trending-up-DnZaI66e.js";import{S as _}from"./star-DUjqnx3C.js";import{S as C}from"./save-BwBZrJPw.js";import"./vendor-D3F3s8fL.js";import"./index-DIYLGAU4.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=I("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=I("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var $="Separator",E="horizontal",K=["horizontal","vertical"],L=x.forwardRef((c,l)=>{const{decorative:u,orientation:h=E,...i}=c,n=X(h)?h:E,o=u?{role:"none"}:{"aria-orientation":n==="vertical"?n:void 0,role:"separator"};return e.jsx(B.div,{"data-orientation":n,...o,...i,ref:l})});L.displayName=$;function X(c){return K.includes(c)}var q=L;const O=x.forwardRef(({className:c,orientation:l="horizontal",decorative:u=!0,...h},i)=>e.jsx(q,{ref:i,decorative:u,orientation:l,className:D("shrink-0 bg-border",l==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",c),...h}));O.displayName=q.displayName;function de(){const{user:c}=U(),{toast:l}=H(),[u,h]=x.useState(!0),[i,n]=x.useState({newMissions:!0,newBids:!0,messages:!0,payments:!0,reviews:!0,systemUpdates:!0,marketTrends:!1,emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,quietHours:!1,weekendNotifications:!0,instantNotifications:!1}),[d,o]=x.useState({profileVisibility:"public",showActivity:!0,showLastSeen:!0,allowDirectMessages:!0,showInSearchResults:!0}),[m,j]=x.useState({theme:"auto",language:"fr",compactMode:!1,showAnimations:!0});x.useEffect(()=>{(async()=>{if(c)try{const a=await fetch("/api/user-settings",{headers:{"x-user-id":c.id.toString()}});if(a.ok){const p=await a.json();p.notifications&&n(p.notifications),p.privacy&&o(p.privacy),p.appearance&&j(p.appearance)}}catch(a){console.error("Erreur chargement paramètres:",a)}finally{h(!1)}})()},[c]);const R=async()=>{try{if((await fetch("/api/user-settings",{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":c.id.toString()},body:JSON.stringify({notifications:i,privacy:d,appearance:m})})).ok)l({title:"Paramètres sauvegardés",description:"Vos préférences de notifications ont été mises à jour."});else throw new Error("Erreur réseau")}catch{l({title:"Erreur",description:"Impossible de sauvegarder les paramètres.",variant:"destructive"})}},V=async()=>{try{if((await fetch("/api/user-settings",{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":c.id.toString()},body:JSON.stringify({notifications:i,privacy:d,appearance:m})})).ok)l({title:"Paramètres sauvegardés",description:"Vos préférences de confidentialité ont été mises à jour."});else throw new Error("Erreur réseau")}catch{l({title:"Erreur",description:"Impossible de sauvegarder les paramètres.",variant:"destructive"})}},z=async()=>{try{if((await fetch("/api/user-settings",{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":c.id.toString()},body:JSON.stringify({notifications:i,privacy:d,appearance:m})})).ok)l({title:"Paramètres sauvegardés",description:"Vos préférences d'apparence ont été mises à jour."});else throw new Error("Erreur réseau")}catch{l({title:"Erreur",description:"Impossible de sauvegarder les paramètres.",variant:"destructive"})}};return c?u?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsx(f,{className:"max-w-md w-full mx-4",children:e.jsxs(g,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Chargement..."}),e.jsx("p",{className:"text-gray-600",children:"Récupération de vos paramètres"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Paramètres"}),e.jsx("p",{className:"text-gray-600",children:"Gérez vos préférences et paramètres de compte"})]}),e.jsxs(Q,{defaultValue:"notifications",className:"space-y-6",children:[e.jsxs(W,{className:"grid w-full grid-cols-3",children:[e.jsxs(w,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),"Notifications"]}),e.jsxs(w,{value:"privacy",className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Confidentialité"]}),e.jsxs(w,{value:"appearance",className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"Apparence"]})]}),e.jsx(b,{value:"notifications",className:"space-y-6",children:e.jsxs(f,{children:[e.jsx(N,{children:e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-blue-600"}),"Types de notifications"]})}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-4 h-4 text-blue-500"}),e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Nouvelles missions"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Missions correspondant à vos critères"})]})]}),e.jsx(r,{checked:i.newMissions,onCheckedChange:s=>n(a=>({...a,newMissions:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"w-4 h-4 text-green-500"}),e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Nouvelles offres"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Offres reçues sur vos missions"})]})]}),e.jsx(r,{checked:i.newBids,onCheckedChange:s=>n(a=>({...a,newBids:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"w-4 h-4 text-purple-500"}),e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Messages"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nouveaux messages reçus"})]})]}),e.jsx(r,{checked:i.messages,onCheckedChange:s=>n(a=>({...a,messages:s}))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"w-4 h-4 text-yellow-500"}),e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Paiements"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Transactions et factures"})]})]}),e.jsx(r,{checked:i.payments,onCheckedChange:s=>n(a=>({...a,payments:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"w-4 h-4 text-orange-500"}),e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Avis et évaluations"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nouveaux avis reçus"})]})]}),e.jsx(r,{checked:i.reviews,onCheckedChange:s=>n(a=>({...a,reviews:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-4 h-4 text-indigo-500"}),e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Tendances marché"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Analyse et insights IA"})]})]}),e.jsx(r,{checked:i.marketTrends,onCheckedChange:s=>n(a=>({...a,marketTrends:s}))})]})]})]}),e.jsx(O,{}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Canaux de notification"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(J,{className:"w-4 h-4 text-blue-500"}),e.jsx(t,{children:"Email"})]}),e.jsx(r,{checked:i.emailNotifications,onCheckedChange:s=>n(a=>({...a,emailNotifications:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{className:"w-4 h-4 text-green-500"}),e.jsx(t,{children:"Push"})]}),e.jsx(r,{checked:i.pushNotifications,onCheckedChange:s=>n(a=>({...a,pushNotifications:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"w-4 h-4 text-purple-500"}),e.jsx(t,{children:"SMS"})]}),e.jsx(r,{checked:i.smsNotifications,onCheckedChange:s=>n(a=>({...a,smsNotifications:s}))})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(y,{onClick:R,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})})]})]})}),e.jsx(b,{value:"privacy",className:"space-y-6",children:e.jsxs(f,{children:[e.jsx(N,{children:e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-green-600"}),"Paramètres de confidentialité"]})}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Visibilité du profil"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Qui peut voir votre profil"})]}),e.jsxs("select",{className:"border rounded px-3 py-2",value:d.profileVisibility,onChange:s=>o(a=>({...a,profileVisibility:s.target.value})),children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"contacts",children:"Contacts uniquement"}),e.jsx("option",{value:"private",children:"Privé"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Afficher dans les résultats de recherche"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Apparaître dans les recherches publiques"})]}),e.jsx(r,{checked:d.showInSearchResults,onCheckedChange:s=>o(a=>({...a,showInSearchResults:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Autoriser les messages directs"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Recevoir des messages de tous les utilisateurs"})]}),e.jsx(r,{checked:d.allowDirectMessages,onCheckedChange:s=>o(a=>({...a,allowDirectMessages:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Afficher l'activité"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Montrer votre statut d'activité"})]}),e.jsx(r,{checked:d.showActivity,onCheckedChange:s=>o(a=>({...a,showActivity:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Afficher la dernière connexion"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Montrer quand vous étiez en ligne"})]}),e.jsx(r,{checked:d.showLastSeen,onCheckedChange:s=>o(a=>({...a,showLastSeen:s}))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(y,{onClick:V,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})})]})]})}),e.jsx(b,{value:"appearance",className:"space-y-6",children:e.jsxs(f,{children:[e.jsx(N,{children:e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5 text-purple-600"}),"Paramètres d'apparence"]})}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Thème"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Choisir l'apparence de l'interface"})]}),e.jsxs("select",{className:"border rounded px-3 py-2",value:m.theme,onChange:s=>j(a=>({...a,theme:s.target.value})),children:[e.jsx("option",{value:"auto",children:"Automatique"}),e.jsx("option",{value:"light",children:"Clair"}),e.jsx("option",{value:"dark",children:"Sombre"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Langue"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Langue de l'interface"})]}),e.jsxs("select",{className:"border rounded px-3 py-2",value:m.language,onChange:s=>j(a=>({...a,language:s.target.value})),children:[e.jsx("option",{value:"fr",children:"Français"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Mode compact"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Interface plus dense"})]}),e.jsx(r,{checked:m.compactMode,onCheckedChange:s=>j(a=>({...a,compactMode:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{className:"font-medium",children:"Animations"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Activer les animations d'interface"})]}),e.jsx(r,{checked:m.showAnimations,onCheckedChange:s=>j(a=>({...a,showAnimations:s}))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(y,{onClick:z,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})})]})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsx(f,{className:"max-w-md w-full mx-4",children:e.jsxs(g,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600",children:"Connectez-vous pour accéder aux paramètres"})]})})})}export{de as default};
