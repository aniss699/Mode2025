import{r as n,j as e}from"./ui-D9tbKjPW.js";import{u as g,a as j,O as f,Q as N,W as i,d as v,s as w,t as S,f as C,L as o,Y as k,I as l,B as y,Z as L}from"./index-Bl4VChHa.js";import{A as d,a as c}from"./alert-xi-djvVt.js";import{L as A}from"./lock-BsOtGlYs.js";import"./vendor-D3F3s8fL.js";function M(){const[,m]=g(),{login:x}=j(),[a,u]=n.useState(""),[r,h]=n.useState(""),p=f("/api/auth/login",{successMessage:"Connexion réussie ! Bienvenue sur FashionHub",errorContext:"Connexion utilisateur",onSuccess:s=>{x(s.user),setTimeout(()=>{m("/")},1e3)}}),t=N({onSubmit:async s=>{p.mutate(s)},validateBeforeSubmit:L.validateAuth}),b=s=>{s.preventDefault(),t.handleSubmit({email:a,password:r})};return e.jsx("div",{className:"min-h-screen bg-cream dark:bg-gray-950 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-4xl w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-display font-bold text-stone-900 dark:text-stone-50 mb-2 flex items-center justify-center",children:[e.jsx(i,{className:"w-10 h-10 mr-3 text-stone-600 dark:text-stone-400"}),"Connexion FashionHub"]}),e.jsx("p",{className:"text-xl text-stone-600 dark:text-stone-400",children:"Accédez à votre espace personnel"})]}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(v,{className:"shadow-sm border border-stone-200 dark:border-stone-800 bg-white dark:bg-gray-950",children:[e.jsx(w,{children:e.jsx(S,{className:"text-2xl font-display text-center text-stone-900 dark:text-stone-50",children:"Se connecter"})}),e.jsx(C,{children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(o,{htmlFor:"email",className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Email"]}),e.jsx(l,{id:"email",type:"email",value:a,onChange:s=>u(s.target.value),placeholder:"votre@email.com",required:!0,"data-testid":"input-email"})]}),e.jsxs("div",{children:[e.jsxs(o,{htmlFor:"password",className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),"Mot de passe"]}),e.jsx(l,{id:"password",type:"password",value:r,onChange:s=>h(s.target.value),placeholder:"••••••••",required:!0,"data-testid":"input-password"})]}),t.submitError&&e.jsx(d,{className:"bg-red-50 border-red-200",children:e.jsx(c,{className:"text-red-700",children:t.submitError})}),t.submitSuccess&&e.jsx(d,{className:"bg-green-50 border-green-200",children:e.jsx(c,{className:"text-green-700",children:t.submitSuccess})}),e.jsx(y,{type:"submit",className:"w-full bg-stone-900 dark:bg-stone-100 hover:bg-stone-800 dark:hover:bg-stone-200 text-white dark:text-stone-900",disabled:t.isSubmitting,"data-testid":"button-login",children:t.isSubmitting?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border border-white dark:border-stone-900 border-t-transparent rounded-full animate-spin"}),"Connexion..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"w-4 h-4"}),"Se connecter"]})})]})})]})})]})})}export{M as default};
