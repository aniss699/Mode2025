import{r as a,j as e}from"./ui-D9tbKjPW.js";import{n as ye,e as ke,o as ae,C as Ce,X as re,c as I,B as i,L as c,I as F,S as H,a as Se,u as Ae,b as x,d as p,U as E,r as b,s as v,H as T,T as O,P as q,D as Fe,i as Te,j as De,k as Le,E as Ve,g as ze}from"./index-BbJ78sBC.js";import{T as Pe,a as Ie,b as G,c as U}from"./tabs-DHAv5CdC.js";import{m as ne}from"./mvpStore-mrMlMRB0.js";import{T as Be}from"./textarea-DxU1D8Zm.js";import{S as D,a as L,b as V,c as z,d as P}from"./select-CidHfapl.js";import{C as Re}from"./crown-D10gH7Rf.js";import{S as $}from"./shirt-Cr2YRhGP.js";import{A as le}from"./activity-Cg6JRB-m.js";import{M as Me}from"./message-circle-BzoS6_z4.js";import"./vendor-D3F3s8fL.js";import"./index-DLM4OUNl.js";import"./chevron-up-D-04Urip.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ie=[{value:"top",label:"Haut",subcategories:["T-shirt","Chemise","Pull","Sweat","Débardeur","Gilet"]},{value:"bottom",label:"Bas",subcategories:["Jean","Pantalon","Short","Jupe","Legging"]},{value:"dress",label:"Robe",subcategories:["Robe courte","Robe longue","Robe midi"]},{value:"outerwear",label:"Veste",subcategories:["Blouson","Manteau","Parka","Blazer","Veste en jean"]},{value:"shoes",label:"Chaussures",subcategories:["Baskets","Bottes","Sandales","Escarpins","Mocassins"]},{value:"accessory",label:"Accessoire",subcategories:["Sac","Ceinture","Écharpe","Chapeau","Bijoux"]}],Oe=["Printemps","Été","Automne","Hiver","Toutes saisons"],qe=["Décontracté","Formel","Sport","Soirée","Travail"],Ge=[{name:"Noir",hex:"#000000"},{name:"Blanc",hex:"#FFFFFF"},{name:"Gris",hex:"#808080"},{name:"Beige",hex:"#F5F5DC"},{name:"Marron",hex:"#8B4513"},{name:"Rouge",hex:"#FF0000"},{name:"Rose",hex:"#FFC0CB"},{name:"Orange",hex:"#FFA500"},{name:"Jaune",hex:"#FFFF00"},{name:"Vert",hex:"#008000"},{name:"Bleu",hex:"#0000FF"},{name:"Violet",hex:"#800080"}];function Ue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(m){const n=Math.random()*16|0;return(m==="x"?n:n&3|8).toString(16)})}function $e({onSaved:m,onCancel:n}){const{toast:f}=ke(),[h,o]=a.useState(1),[B,u]=a.useState(!1),[d,k]=a.useState([]),[r,t]=a.useState([]),[N,R]=a.useState(""),[w,M]=a.useState(""),[S,oe]=a.useState(""),[J,ce]=a.useState(""),[W,de]=a.useState(""),[C,xe]=a.useState(""),[_,me]=a.useState(""),[K,he]=a.useState(""),[X,pe]=a.useState(""),[y,Z]=a.useState([]),[A,Q]=a.useState(""),Y=ie.find(s=>s.value===S),ee=s=>{const l=s.filter(g=>g.type.startsWith("image/"));k(g=>[...g,...l].slice(0,5)),l.forEach(g=>{const j=new FileReader;j.onloadend=()=>{t(we=>[...we,j.result].slice(0,5))},j.readAsDataURL(g)})},ue=s=>{s.preventDefault(),u(!1);const l=Array.from(s.dataTransfer.files);ee(l)},ge=s=>{s.preventDefault(),u(!0)},je=()=>{u(!1)},be=s=>{k(l=>l.filter((g,j)=>j!==s)),t(l=>l.filter((g,j)=>j!==s))},se=()=>{A&&!y.includes(A)&&(Z([...y,A]),Q(""))},ve=s=>{Z(y.filter(l=>l!==s))},fe=async s=>{if(s.preventDefault(),d.length===0){f({title:"Photo requise",description:"Veuillez ajouter au moins une photo de votre vêtement",variant:"destructive"});return}if(!N.trim()){f({title:"Titre requis",description:"Veuillez donner un titre à votre vêtement",variant:"destructive"});return}const l={id:Ue(),userId:"me",title:N.trim(),description:w.trim()||null,images:r,category:S||"other",subCategory:J||null,brand:W.trim()||null,color:C||null,size:_.trim()||null,season:K||null,occasion:X||null,tags:y,isPublic:!0,createdAt:new Date().toISOString(),likes:[]};ne.addArticle(l),f({title:"✨ Vêtement ajouté !",description:"Votre article a été ajouté à votre dressing"}),m&&m()},te=d.length>0,Ne=te&&N.trim().length>0&&S;return e.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-8",children:[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${h>=s?"bg-gradient-to-r from-pink-500 to-purple-500 text-white":"bg-gray-200 text-gray-500"}`,children:h>s?e.jsx(ae,{className:"w-5 h-5"}):s}),s<3&&e.jsx("div",{className:`w-12 h-1 mx-1 transition-all ${h>s?"bg-gradient-to-r from-pink-500 to-purple-500":"bg-gray-200"}`})]},s))}),h===1&&e.jsxs("div",{className:"space-y-4","data-testid":"step-photos",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Ajoutez des photos"}),e.jsx("p",{className:"text-gray-600",children:"Téléchargez jusqu'à 5 photos de votre vêtement"})]}),e.jsx("div",{onDrop:ue,onDragOver:ge,onDragLeave:je,className:`border-2 border-dashed rounded-xl p-8 transition-all ${B?"border-pink-500 bg-pink-50":"border-gray-300 hover:border-pink-400 bg-white"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-pink-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Ce,{className:"w-8 h-8 text-pink-600"})}),e.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Glissez vos photos ici"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"ou"}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsxs("span",{className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-lg hover:from-pink-600 hover:to-purple-600 transition-all",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Parcourir"]}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:s=>ee(Array.from(s.target.files||[])),className:"hidden","data-testid":"input-file-upload"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"PNG, JPG ou WEBP (max 5 Mo par image)"})]})}),r.length>0&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 mt-6",children:r.map((s,l)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:`Preview ${l+1}`,className:"w-full aspect-square object-cover rounded-lg shadow-md"}),e.jsx("button",{type:"button",onClick:()=>be(l),className:"absolute top-2 right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity","data-testid":`button-remove-image-${l}`,children:e.jsx(re,{className:"w-4 h-4 text-white"})}),l===0&&e.jsx(I,{className:"absolute bottom-2 left-2 bg-pink-500",children:"Photo principale"})]},l))}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n&&e.jsx(i,{type:"button",variant:"outline",onClick:n,"data-testid":"button-cancel",children:"Annuler"}),e.jsx(i,{type:"button",onClick:()=>o(2),disabled:!te,className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600","data-testid":"button-next-step-1",children:"Continuer"})]})]}),h===2&&e.jsxs("div",{className:"space-y-4","data-testid":"step-basic-info",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Informations principales"}),e.jsx("p",{className:"text-gray-600",children:"Décrivez votre vêtement"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"title",children:"Titre du vêtement *"}),e.jsx(F,{id:"title",value:N,onChange:s=>R(s.target.value),placeholder:"ex: Veste en jean vintage",className:"mt-1","data-testid":"input-title"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsx(Be,{id:"description",value:w,onChange:s=>M(s.target.value),placeholder:"Décrivez votre vêtement (matière, style, état...)",rows:3,className:"mt-1","data-testid":"textarea-description"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"category",children:"Catégorie *"}),e.jsxs(D,{value:S,onValueChange:oe,children:[e.jsx(L,{className:"mt-1","data-testid":"select-category",children:e.jsx(V,{placeholder:"Sélectionnez"})}),e.jsx(z,{children:ie.map(s=>e.jsx(P,{value:s.value,children:s.label},s.value))})]})]}),Y&&e.jsxs("div",{children:[e.jsx(c,{htmlFor:"subCategory",children:"Sous-catégorie"}),e.jsxs(D,{value:J,onValueChange:ce,children:[e.jsx(L,{className:"mt-1","data-testid":"select-subcategory",children:e.jsx(V,{placeholder:"Sélectionnez"})}),e.jsx(z,{children:Y.subcategories.map(s=>e.jsx(P,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"brand",children:"Marque"}),e.jsx(F,{id:"brand",value:W,onChange:s=>de(s.target.value),placeholder:"ex: Levi's, Zara...",className:"mt-1","data-testid":"input-brand"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"size",children:"Taille"}),e.jsx(F,{id:"size",value:_,onChange:s=>me(s.target.value),placeholder:"ex: M, 38, L...",className:"mt-1","data-testid":"input-size"})]})]})]}),e.jsxs("div",{className:"flex justify-between gap-3 mt-6",children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>o(1),"data-testid":"button-back-step-2",children:"Retour"}),e.jsxs("div",{className:"flex gap-3",children:[n&&e.jsx(i,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),e.jsx(i,{type:"button",onClick:()=>o(3),disabled:!Ne,className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600","data-testid":"button-next-step-2",children:"Continuer"})]})]})]}),h===3&&e.jsxs("div",{className:"space-y-4","data-testid":"step-details",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Détails et tags"}),e.jsx("p",{className:"text-gray-600",children:"Personnalisez votre article"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Couleur principale"}),e.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-12 gap-2 mt-2",children:Ge.map(s=>e.jsx("button",{type:"button",onClick:()=>xe(s.name),className:`w-full aspect-square rounded-lg border-2 transition-all hover:scale-110 ${C===s.name?"border-pink-500 ring-2 ring-pink-200":"border-gray-300"}`,style:{backgroundColor:s.hex},title:s.name,"data-testid":`button-color-${s.name}`,children:C===s.name&&e.jsx(ae,{className:"w-4 h-4 mx-auto text-white drop-shadow-lg"})},s.name))}),C&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Couleur sélectionnée: ",C]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"season",children:"Saison"}),e.jsxs(D,{value:K,onValueChange:he,children:[e.jsx(L,{className:"mt-1","data-testid":"select-season",children:e.jsx(V,{placeholder:"Sélectionnez"})}),e.jsx(z,{children:Oe.map(s=>e.jsx(P,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"occasion",children:"Occasion"}),e.jsxs(D,{value:X,onValueChange:pe,children:[e.jsx(L,{className:"mt-1","data-testid":"select-occasion",children:e.jsx(V,{placeholder:"Sélectionnez"})}),e.jsx(z,{children:qe.map(s=>e.jsx(P,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"tags",children:"Tags personnalisés"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(F,{id:"tags",value:A,onChange:s=>Q(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),se())},placeholder:"ex: vintage, casual, streetwear...","data-testid":"input-tags"}),e.jsx(i,{type:"button",onClick:se,variant:"outline","data-testid":"button-add-tag",children:e.jsx(H,{className:"w-4 h-4"})})]}),y.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:y.map(s=>e.jsxs(I,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>ve(s),"data-testid":`badge-tag-${s}`,children:[s," ",e.jsx(re,{className:"w-3 h-3 ml-1"})]},s))})]})]}),e.jsxs("div",{className:"flex justify-between gap-3 mt-6",children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>o(2),"data-testid":"button-back-step-3",children:"Retour"}),e.jsxs("div",{className:"flex gap-3",children:[n&&e.jsx(i,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),e.jsxs(i,{type:"submit",className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600","data-testid":"button-submit",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Ajouter à mon dressing"]})]})]})]})]})}function rs(){const{user:m}=Se(),[,n]=Ae(),[f,h]=a.useState("overview"),[o,B]=a.useState([]),[u,d]=a.useState(!1);a.useEffect(()=>{k()},[]);function k(){B(ne.getArticles().filter(t=>t.userId==="me"))}const r=a.useMemo(()=>{const t=o,N=t.filter(w=>w.isPublic),R=t.reduce((w,M)=>w+(M.likes?.length||0),0);return{totalItems:t.length,publicLooks:N.length,totalLikes:R,followers:0,following:0}},[o]);return m?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-3xl font-bold border-4 border-white/50",children:m.name?.split(" ").map(t=>t[0]).join("").toUpperCase()||"U"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx(Re,{className:"w-4 h-4 text-yellow-900"})})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:m.name}),e.jsx("p",{className:"text-white/80 mb-4",children:"Passionné(e) de mode et de style"}),e.jsxs("div",{className:"flex flex-wrap gap-6 justify-center md:justify-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.totalItems}),e.jsx("div",{className:"text-sm text-white/80",children:"Articles"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.publicLooks}),e.jsx("div",{className:"text-sm text-white/80",children:"Looks"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.followers}),e.jsx("div",{className:"text-sm text-white/80",children:"Abonnés"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.following}),e.jsx("div",{className:"text-sm text-white/80",children:"Abonnements"})]})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx(i,{onClick:()=>n("/profile"),variant:"secondary",className:"bg-white/20 hover:bg-white/30 text-white border-white/50",children:"Voir mon profil"})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(x,{className:"border-2 border-pink-100 hover:border-pink-300 transition-colors",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(v,{className:"text-sm font-medium text-gray-600",children:"Articles dans le dressing"}),e.jsx($,{className:"w-5 h-5 text-pink-500"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.totalItems}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ton dressing virtuel"})]})]}),e.jsxs(x,{className:"border-2 border-purple-100 hover:border-purple-300 transition-colors",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(v,{className:"text-sm font-medium text-gray-600",children:"J'aime reçus"}),e.jsx(T,{className:"w-5 h-5 text-purple-500"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.totalLikes}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sur tous tes looks"})]})]}),e.jsxs(x,{className:"border-2 border-pink-100 hover:border-pink-300 transition-colors",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(v,{className:"text-sm font-medium text-gray-600",children:"Looks partagés"}),e.jsx(O,{className:"w-5 h-5 text-pink-500"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.publicLooks}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Visibles par la communauté"})]})]}),e.jsxs(x,{className:"border-2 border-purple-100 hover:border-purple-300 transition-colors",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(v,{className:"text-sm font-medium text-gray-600",children:"Abonnés"}),e.jsx(E,{className:"w-5 h-5 text-purple-500"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.followers}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fashionistas qui te suivent"})]})]})]}),e.jsxs(Pe,{value:f,onValueChange:h,className:"space-y-6",children:[e.jsxs(Ie,{className:"grid w-full grid-cols-3 lg:w-auto",children:[e.jsxs(G,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4"}),"Vue d'ensemble"]}),e.jsxs(G,{value:"wardrobe",className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4"}),"Mon dressing"]}),e.jsxs(G,{value:"stats",className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),"Statistiques"]})]}),e.jsxs(U,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(x,{className:"border-2 border-pink-100",children:[e.jsx(b,{children:e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5 text-pink-500"}),"Actions rapides"]})}),e.jsxs(p,{className:"space-y-3",children:[e.jsxs(i,{onClick:()=>d(!u),className:"w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Ajouter un article"]}),e.jsxs(i,{onClick:()=>n("/feed"),variant:"outline",className:"w-full border-2 border-pink-200 hover:bg-pink-50",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Explorer le feed"]}),e.jsxs(i,{onClick:()=>n("/profile"),variant:"outline",className:"w-full border-2 border-purple-200 hover:bg-purple-50",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Voir mon profil public"]})]})]}),e.jsxs(x,{className:"border-2 border-purple-100",children:[e.jsx(b,{children:e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5 text-purple-500"}),"Activité récente"]})}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-4",children:[o.slice(0,3).map(t=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.images?.[0]||"https://via.placeholder.com/100",alt:t.title,className:"w-12 h-12 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(t.createdAt).toLocaleDateString("fr-FR")})]}),e.jsxs(I,{variant:"outline",children:[e.jsx(T,{className:"w-3 h-3 mr-1"}),t.likes?.length||0]})]},t.id)),o.length===0&&e.jsx("p",{className:"text-center text-gray-500 py-8",children:"Aucun article pour le moment"})]})})]})]}),e.jsx(Fe,{open:u,onOpenChange:d,children:e.jsxs(Te,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(De,{children:e.jsx(Le,{className:"text-2xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Ajouter un vêtement à ton dressing"})}),e.jsx($e,{onSaved:()=>{k(),d(!1)},onCancel:()=>d(!1)})]})})]}),e.jsxs(U,{value:"wardrobe",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:["Mon dressing (",o.length," articles)"]}),e.jsxs(i,{onClick:()=>d(!u),className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Ajouter"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:o.map(t=>e.jsxs(x,{className:"group overflow-hidden hover:shadow-xl transition-all border-2 border-transparent hover:border-pink-200",children:[e.jsxs("div",{className:"aspect-square relative overflow-hidden bg-gray-100",children:[e.jsx("img",{src:t.images?.[0]||"https://via.placeholder.com/300",alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform"}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(I,{className:"bg-white/90 text-pink-600",children:[e.jsx(T,{className:"w-3 h-3 mr-1"}),t.likes?.length||0]})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("p",{className:"font-semibold text-sm truncate",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(t.createdAt).toLocaleDateString("fr-FR")})]})]},t.id))}),o.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-pink-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx($,{className:"w-12 h-12 text-pink-500"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Ton dressing est vide"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Commence à ajouter tes vêtements pour créer ton dressing virtuel"}),e.jsxs(i,{onClick:()=>d(!0),className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Ajouter mon premier article"]})]})]}),e.jsx(U,{value:"stats",className:"space-y-6",children:e.jsxs(x,{children:[e.jsx(b,{children:e.jsx(v,{children:"Statistiques détaillées"})}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Performance de tes looks"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[e.jsx(Ve,{className:"w-6 h-6 text-pink-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Vues totales"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(T,{className:"w-6 h-6 text-purple-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:r.totalLikes}),e.jsx("div",{className:"text-xs text-gray-600",children:"J'aime"})]}),e.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[e.jsx(Me,{className:"w-6 h-6 text-pink-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Commentaires"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(ze,{className:"w-6 h-6 text-purple-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Sauvegardes"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Ton dressing en chiffres"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Total d'articles"}),e.jsx("span",{className:"font-bold",children:r.totalItems})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Looks créés"}),e.jsx("span",{className:"font-bold",children:r.publicLooks})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"Taux de publication"}),e.jsxs("span",{className:"font-bold",children:[r.totalItems>0?Math.round(r.publicLooks/r.totalItems*100):0,"%"]})]})]})]})]})})]})})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50 flex items-center justify-center",children:e.jsx(x,{className:"max-w-md w-full mx-4 shadow-xl border-2 border-pink-200",children:e.jsxs(p,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(E,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Connecte-toi pour accéder à ton dressing virtuel"}),e.jsx(i,{onClick:()=>n("/login"),className:"w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white",children:"Se connecter"})]})})})}export{rs as default};
