const n="fashionhub_mvp_v1";function s(){try{const e=localStorage.getItem(n);if(!e){const t=c();return localStorage.setItem(n,JSON.stringify(t)),t}return JSON.parse(e)}catch{const t=c();return localStorage.setItem(n,JSON.stringify(t)),t}}function r(e){localStorage.setItem(n,JSON.stringify(e))}function c(){const e=[{id:"1",name:"Alice Dupont",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200&h=200&fit=crop&crop=faces",bio:"Vintage lover"},{id:"2",name:"Marc Lemaire",avatar:"https://images.unsplash.com/photo-1545996124-1b1b8c8b1f5d?w=200&h=200&fit=crop&crop=faces",bio:"Minimalist"},{id:"me",name:"Toi (moi)",avatar:"",bio:"Mon dressing"}],t=[{id:"a1",userId:"1",title:"Veste en cuir",images:["https://images.unsplash.com/photo-1520975698510-1d0aebd3b286?w=800&h=800&fit=crop"],isPublic:!0,createdAt:new Date().toISOString(),likes:[],bookmarks:[]},{id:"a2",userId:"2",title:"Manteau long",images:["https://images.unsplash.com/photo-1514995669114-4f0b8b1d1f3a?w=800&h=800&fit=crop"],isPublic:!0,createdAt:new Date().toISOString(),likes:[],bookmarks:[]}];return{profiles:e,articles:t,following:[]}}const f={getState(){return s()},getProfiles(){return s().profiles},getArticles(){return s().articles},addArticle(e){const t=s();t.articles.unshift(e),r(t)},toggleLike(e,t){const i=s(),o=i.articles.find(l=>l.id===e);if(!o)return;o.likes=o.likes||[];const a=o.likes.indexOf(t);return a===-1?o.likes.push(t):o.likes.splice(a,1),r(i),o},toggleBookmark(e,t){const i=s(),o=i.articles.find(l=>l.id===e);if(!o)return;o.bookmarks=o.bookmarks||[];const a=o.bookmarks.indexOf(t);return a===-1?o.bookmarks.push(t):o.bookmarks.splice(a,1),r(i),o},addProfile(e){const t=s();t.profiles.push(e),r(t)},follow(e){const t=s();t.following.includes(e)||t.following.push(e),r(t)},unfollow(e){const t=s();t.following=t.following.filter(i=>i!==e),r(t)},getFollowing(){return s().following}};export{f as m};
