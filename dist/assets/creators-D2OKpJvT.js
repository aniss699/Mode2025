import{r as a,G as ze,H as _t,b as Ae,j as e,J as Mt,c as Lt,K as Me,a as At,u as D,k as q,P as _,M as Ot,e as P,i as Dt,g as qe,f as Vt,N as Bt,Q as Ft,U as Ht,V as Ut,W as Wt,X as Kt,Y as $t,Z as zt}from"./ui-D9tbKjPW.js";import{u as qt}from"./useQuery-BVGVy39F.js";import{V as Gt,c as G,d as Ge,e as Yt,a as Xt,u as Zt,S as Ne,I as Oe,B as ee,f as De,b as Ve,g as Be,U as Fe,E as Qt}from"./index-BxWQt7GU.js";import{A as Jt,a as es,b as ts}from"./avatar-CdC_3sn3.js";import{u as ss}from"./index-DLM4OUNl.js";import{C as os}from"./chevron-up-C0WWEIkQ.js";import{m as je}from"./mvpStore-mrMlMRB0.js";import{S as de}from"./search-Ct_8wM8s.js";import{F as He}from"./filter-1XL6_dNb.js";import{S as Ue}from"./shirt-BgEuTOh8.js";import{M as Ce}from"./map-pin-Cdp5qAEx.js";import{T as We}from"./trending-up-Cmfn8Q8_.js";import{A as as}from"./activity-CUiyCAm4.js";import{S as ns}from"./star-BV9I0oQP.js";import{U as Ke}from"./user-plus-DbHYliaZ.js";import"./vendor-D3F3s8fL.js";function $e(o,[r,t]){return Math.min(t,Math.max(r,o))}var rs=[" ","Enter","ArrowUp","ArrowDown"],ls=[" ","Enter"],te="Select",[fe,he,is]=At(te),[ae,Qs]=Lt(te,[is,ze]),xe=ze(),[cs,Y]=ae(te),[ds,ps]=ae(te),Ye=o=>{const{__scopeSelect:r,children:t,open:i,defaultOpen:s,onOpenChange:u,value:c,defaultValue:d,onValueChange:p,dir:m,name:g,autoComplete:y,disabled:w,required:j,form:n}=o,l=xe(r),[x,S]=a.useState(null),[h,v]=a.useState(null),[W,M]=a.useState(!1),ne=_t(m),[k,A]=Ae({prop:i,defaultProp:s??!1,onChange:u,caller:te}),[K,Z]=Ae({prop:c,defaultProp:d,onChange:p,caller:te}),V=a.useRef(null),B=x?n||!!x.closest("form"):!0,[$,F]=a.useState(new Set),H=Array.from($).map(R=>R.props.value).join(";");return e.jsx(Mt,{...l,children:e.jsxs(cs,{required:j,scope:r,trigger:x,onTriggerChange:S,valueNode:h,onValueNodeChange:v,valueNodeHasChildren:W,onValueNodeHasChildrenChange:M,contentId:Me(),value:K,onValueChange:Z,open:k,onOpenChange:A,dir:ne,triggerPointerDownPosRef:V,disabled:w,children:[e.jsx(fe.Provider,{scope:r,children:e.jsx(ds,{scope:o.__scopeSelect,onNativeOptionAdd:a.useCallback(R=>{F(O=>new Set(O).add(R))},[]),onNativeOptionRemove:a.useCallback(R=>{F(O=>{const U=new Set(O);return U.delete(R),U})},[]),children:t})}),B?e.jsxs(wt,{"aria-hidden":!0,required:j,tabIndex:-1,name:g,autoComplete:y,value:K,onChange:R=>Z(R.target.value),disabled:w,form:n,children:[K===void 0?e.jsx("option",{value:""}):null,Array.from($)]},H):null]})})};Ye.displayName=te;var Xe="SelectTrigger",Ze=a.forwardRef((o,r)=>{const{__scopeSelect:t,disabled:i=!1,...s}=o,u=xe(t),c=Y(Xe,t),d=c.disabled||i,p=D(r,c.onTriggerChange),m=he(t),g=a.useRef("touch"),[y,w,j]=St(l=>{const x=m().filter(v=>!v.disabled),S=x.find(v=>v.value===c.value),h=bt(x,l,S);h!==void 0&&c.onValueChange(h.value)}),n=l=>{d||(c.onOpenChange(!0),j()),l&&(c.triggerPointerDownPosRef.current={x:Math.round(l.pageX),y:Math.round(l.pageY)})};return e.jsx(Ot,{asChild:!0,...u,children:e.jsx(_.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":yt(c.value)?"":void 0,...s,ref:p,onClick:P(s.onClick,l=>{l.currentTarget.focus(),g.current!=="mouse"&&n(l)}),onPointerDown:P(s.onPointerDown,l=>{g.current=l.pointerType;const x=l.target;x.hasPointerCapture(l.pointerId)&&x.releasePointerCapture(l.pointerId),l.button===0&&l.ctrlKey===!1&&l.pointerType==="mouse"&&(n(l),l.preventDefault())}),onKeyDown:P(s.onKeyDown,l=>{const x=y.current!=="";!(l.ctrlKey||l.altKey||l.metaKey)&&l.key.length===1&&w(l.key),!(x&&l.key===" ")&&rs.includes(l.key)&&(n(),l.preventDefault())})})})});Ze.displayName=Xe;var Qe="SelectValue",Je=a.forwardRef((o,r)=>{const{__scopeSelect:t,className:i,style:s,children:u,placeholder:c="",...d}=o,p=Y(Qe,t),{onValueNodeHasChildrenChange:m}=p,g=u!==void 0,y=D(r,p.onValueNodeChange);return q(()=>{m(g)},[m,g]),e.jsx(_.span,{...d,ref:y,style:{pointerEvents:"none"},children:yt(p.value)?e.jsx(e.Fragment,{children:c}):u})});Je.displayName=Qe;var us="SelectIcon",et=a.forwardRef((o,r)=>{const{__scopeSelect:t,children:i,...s}=o;return e.jsx(_.span,{"aria-hidden":!0,...s,ref:r,children:i||"▼"})});et.displayName=us;var ms="SelectPortal",tt=o=>e.jsx(Dt,{asChild:!0,...o});tt.displayName=ms;var se="SelectContent",st=a.forwardRef((o,r)=>{const t=Y(se,o.__scopeSelect),[i,s]=a.useState();if(q(()=>{s(new DocumentFragment)},[]),!t.open){const u=i;return u?qe.createPortal(e.jsx(ot,{scope:o.__scopeSelect,children:e.jsx(fe.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),u):null}return e.jsx(at,{...o,ref:r})});st.displayName=se;var L=10,[ot,X]=ae(se),fs="SelectContentImpl",hs=Ut("SelectContent.RemoveScroll"),at=a.forwardRef((o,r)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:u,onPointerDownOutside:c,side:d,sideOffset:p,align:m,alignOffset:g,arrowPadding:y,collisionBoundary:w,collisionPadding:j,sticky:n,hideWhenDetached:l,avoidCollisions:x,...S}=o,h=Y(se,t),[v,W]=a.useState(null),[M,ne]=a.useState(null),k=D(r,f=>W(f)),[A,K]=a.useState(null),[Z,V]=a.useState(null),B=he(t),[$,F]=a.useState(!1),H=a.useRef(!1);a.useEffect(()=>{if(v)return Bt(v)},[v]),Ft();const R=a.useCallback(f=>{const[T,...E]=B().map(I=>I.ref.current),[b]=E.slice(-1),N=document.activeElement;for(const I of f)if(I===N||(I?.scrollIntoView({block:"nearest"}),I===T&&M&&(M.scrollTop=0),I===b&&M&&(M.scrollTop=M.scrollHeight),I?.focus(),document.activeElement!==N))return},[B,M]),O=a.useCallback(()=>R([A,v]),[R,A,v]);a.useEffect(()=>{$&&O()},[$,O]);const{onOpenChange:U,triggerPointerDownPosRef:z}=h;a.useEffect(()=>{if(v){let f={x:0,y:0};const T=b=>{f={x:Math.abs(Math.round(b.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(b.pageY)-(z.current?.y??0))}},E=b=>{f.x<=10&&f.y<=10?b.preventDefault():v.contains(b.target)||U(!1),document.removeEventListener("pointermove",T),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",E,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",E,{capture:!0})}}},[v,U,z]),a.useEffect(()=>{const f=()=>U(!1);return window.addEventListener("blur",f),window.addEventListener("resize",f),()=>{window.removeEventListener("blur",f),window.removeEventListener("resize",f)}},[U]);const[ge,ie]=St(f=>{const T=B().filter(N=>!N.disabled),E=T.find(N=>N.ref.current===document.activeElement),b=bt(T,f,E);b&&setTimeout(()=>b.ref.current.focus())}),ve=a.useCallback((f,T,E)=>{const b=!H.current&&!E;(h.value!==void 0&&h.value===T||b)&&(K(f),b&&(H.current=!0))},[h.value]),we=a.useCallback(()=>v?.focus(),[v]),oe=a.useCallback((f,T,E)=>{const b=!H.current&&!E;(h.value!==void 0&&h.value===T||b)&&V(f)},[h.value]),ce=i==="popper"?Pe:nt,re=ce===Pe?{side:d,sideOffset:p,align:m,alignOffset:g,arrowPadding:y,collisionBoundary:w,collisionPadding:j,sticky:n,hideWhenDetached:l,avoidCollisions:x}:{};return e.jsx(ot,{scope:t,content:v,viewport:M,onViewportChange:ne,itemRefCallback:ve,selectedItem:A,onItemLeave:we,itemTextRefCallback:oe,focusSelectedItem:O,selectedItemText:Z,position:i,isPositioned:$,searchRef:ge,children:e.jsx(Ht,{as:hs,allowPinchZoom:!0,children:e.jsx(Wt,{asChild:!0,trapped:h.open,onMountAutoFocus:f=>{f.preventDefault()},onUnmountAutoFocus:P(s,f=>{h.trigger?.focus({preventScroll:!0}),f.preventDefault()}),children:e.jsx(Kt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:f=>f.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:f=>f.preventDefault(),...S,...re,onPlaced:()=>F(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:P(S.onKeyDown,f=>{const T=f.ctrlKey||f.altKey||f.metaKey;if(f.key==="Tab"&&f.preventDefault(),!T&&f.key.length===1&&ie(f.key),["ArrowUp","ArrowDown","Home","End"].includes(f.key)){let b=B().filter(N=>!N.disabled).map(N=>N.ref.current);if(["ArrowUp","End"].includes(f.key)&&(b=b.slice().reverse()),["ArrowUp","ArrowDown"].includes(f.key)){const N=f.target,I=b.indexOf(N);b=b.slice(I+1)}setTimeout(()=>R(b)),f.preventDefault()}})})})})})})});at.displayName=fs;var xs="SelectItemAlignedPosition",nt=a.forwardRef((o,r)=>{const{__scopeSelect:t,onPlaced:i,...s}=o,u=Y(se,t),c=X(se,t),[d,p]=a.useState(null),[m,g]=a.useState(null),y=D(r,k=>g(k)),w=he(t),j=a.useRef(!1),n=a.useRef(!0),{viewport:l,selectedItem:x,selectedItemText:S,focusSelectedItem:h}=c,v=a.useCallback(()=>{if(u.trigger&&u.valueNode&&d&&m&&l&&x&&S){const k=u.trigger.getBoundingClientRect(),A=m.getBoundingClientRect(),K=u.valueNode.getBoundingClientRect(),Z=S.getBoundingClientRect();if(u.dir!=="rtl"){const N=Z.left-A.left,I=K.left-N,Q=k.left-I,J=k.width+Q,ye=Math.max(J,A.width),Se=window.innerWidth-L,be=$e(I,[L,Math.max(L,Se-ye)]);d.style.minWidth=J+"px",d.style.left=be+"px"}else{const N=A.right-Z.right,I=window.innerWidth-K.right-N,Q=window.innerWidth-k.right-I,J=k.width+Q,ye=Math.max(J,A.width),Se=window.innerWidth-L,be=$e(I,[L,Math.max(L,Se-ye)]);d.style.minWidth=J+"px",d.style.right=be+"px"}const V=w(),B=window.innerHeight-L*2,$=l.scrollHeight,F=window.getComputedStyle(m),H=parseInt(F.borderTopWidth,10),R=parseInt(F.paddingTop,10),O=parseInt(F.borderBottomWidth,10),U=parseInt(F.paddingBottom,10),z=H+R+$+U+O,ge=Math.min(x.offsetHeight*5,z),ie=window.getComputedStyle(l),ve=parseInt(ie.paddingTop,10),we=parseInt(ie.paddingBottom,10),oe=k.top+k.height/2-L,ce=B-oe,re=x.offsetHeight/2,f=x.offsetTop+re,T=H+R+f,E=z-T;if(T<=oe){const N=V.length>0&&x===V[V.length-1].ref.current;d.style.bottom="0px";const I=m.clientHeight-l.offsetTop-l.offsetHeight,Q=Math.max(ce,re+(N?we:0)+I+O),J=T+Q;d.style.height=J+"px"}else{const N=V.length>0&&x===V[0].ref.current;d.style.top="0px";const Q=Math.max(oe,H+l.offsetTop+(N?ve:0)+re)+E;d.style.height=Q+"px",l.scrollTop=T-oe+l.offsetTop}d.style.margin=`${L}px 0`,d.style.minHeight=ge+"px",d.style.maxHeight=B+"px",i?.(),requestAnimationFrame(()=>j.current=!0)}},[w,u.trigger,u.valueNode,d,m,l,x,S,u.dir,i]);q(()=>v(),[v]);const[W,M]=a.useState();q(()=>{m&&M(window.getComputedStyle(m).zIndex)},[m]);const ne=a.useCallback(k=>{k&&n.current===!0&&(v(),h?.(),n.current=!1)},[v,h]);return e.jsx(vs,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:j,onScrollButtonChange:ne,children:e.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:W},children:e.jsx(_.div,{...s,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nt.displayName=xs;var gs="SelectPopperPosition",Pe=a.forwardRef((o,r)=>{const{__scopeSelect:t,align:i="start",collisionPadding:s=L,...u}=o,c=xe(t);return e.jsx($t,{...c,...u,ref:r,align:i,collisionPadding:s,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pe.displayName=gs;var[vs,Le]=ae(se,{}),ke="SelectViewport",rt=a.forwardRef((o,r)=>{const{__scopeSelect:t,nonce:i,...s}=o,u=X(ke,t),c=Le(ke,t),d=D(r,u.onViewportChange),p=a.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(fe.Slot,{scope:t,children:e.jsx(_.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:P(s.onScroll,m=>{const g=m.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:w}=c;if(w?.current&&y){const j=Math.abs(p.current-g.scrollTop);if(j>0){const n=window.innerHeight-L*2,l=parseFloat(y.style.minHeight),x=parseFloat(y.style.height),S=Math.max(l,x);if(S<n){const h=S+j,v=Math.min(n,h),W=h-v;y.style.height=v+"px",y.style.bottom==="0px"&&(g.scrollTop=W>0?W:0,y.style.justifyContent="flex-end")}}}p.current=g.scrollTop})})})]})});rt.displayName=ke;var lt="SelectGroup",[ws,ys]=ae(lt),Ss=a.forwardRef((o,r)=>{const{__scopeSelect:t,...i}=o,s=Me();return e.jsx(ws,{scope:t,id:s,children:e.jsx(_.div,{role:"group","aria-labelledby":s,...i,ref:r})})});Ss.displayName=lt;var it="SelectLabel",ct=a.forwardRef((o,r)=>{const{__scopeSelect:t,...i}=o,s=ys(it,t);return e.jsx(_.div,{id:s.id,...i,ref:r})});ct.displayName=it;var me="SelectItem",[bs,dt]=ae(me),pt=a.forwardRef((o,r)=>{const{__scopeSelect:t,value:i,disabled:s=!1,textValue:u,...c}=o,d=Y(me,t),p=X(me,t),m=d.value===i,[g,y]=a.useState(u??""),[w,j]=a.useState(!1),n=D(r,h=>p.itemRefCallback?.(h,i,s)),l=Me(),x=a.useRef("touch"),S=()=>{s||(d.onValueChange(i),d.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(bs,{scope:t,value:i,disabled:s,textId:l,isSelected:m,onItemTextChange:a.useCallback(h=>{y(v=>v||(h?.textContent??"").trim())},[]),children:e.jsx(fe.ItemSlot,{scope:t,value:i,disabled:s,textValue:g,children:e.jsx(_.div,{role:"option","aria-labelledby":l,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:n,onFocus:P(c.onFocus,()=>j(!0)),onBlur:P(c.onBlur,()=>j(!1)),onClick:P(c.onClick,()=>{x.current!=="mouse"&&S()}),onPointerUp:P(c.onPointerUp,()=>{x.current==="mouse"&&S()}),onPointerDown:P(c.onPointerDown,h=>{x.current=h.pointerType}),onPointerMove:P(c.onPointerMove,h=>{x.current=h.pointerType,s?p.onItemLeave?.():x.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:P(c.onPointerLeave,h=>{h.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:P(c.onKeyDown,h=>{p.searchRef?.current!==""&&h.key===" "||(ls.includes(h.key)&&S(),h.key===" "&&h.preventDefault())})})})})});pt.displayName=me;var le="SelectItemText",ut=a.forwardRef((o,r)=>{const{__scopeSelect:t,className:i,style:s,...u}=o,c=Y(le,t),d=X(le,t),p=dt(le,t),m=ps(le,t),[g,y]=a.useState(null),w=D(r,S=>y(S),p.onItemTextChange,S=>d.itemTextRefCallback?.(S,p.value,p.disabled)),j=g?.textContent,n=a.useMemo(()=>e.jsx("option",{value:p.value,disabled:p.disabled,children:j},p.value),[p.disabled,p.value,j]),{onNativeOptionAdd:l,onNativeOptionRemove:x}=m;return q(()=>(l(n),()=>x(n)),[l,x,n]),e.jsxs(e.Fragment,{children:[e.jsx(_.span,{id:p.textId,...u,ref:w}),p.isSelected&&c.valueNode&&!c.valueNodeHasChildren?qe.createPortal(u.children,c.valueNode):null]})});ut.displayName=le;var mt="SelectItemIndicator",ft=a.forwardRef((o,r)=>{const{__scopeSelect:t,...i}=o;return dt(mt,t).isSelected?e.jsx(_.span,{"aria-hidden":!0,...i,ref:r}):null});ft.displayName=mt;var Re="SelectScrollUpButton",ht=a.forwardRef((o,r)=>{const t=X(Re,o.__scopeSelect),i=Le(Re,o.__scopeSelect),[s,u]=a.useState(!1),c=D(r,i.onScrollButtonChange);return q(()=>{if(t.viewport&&t.isPositioned){let d=function(){const m=p.scrollTop>0;u(m)};const p=t.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),s?e.jsx(gt,{...o,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=t;d&&p&&(d.scrollTop=d.scrollTop-p.offsetHeight)}}):null});ht.displayName=Re;var Ee="SelectScrollDownButton",xt=a.forwardRef((o,r)=>{const t=X(Ee,o.__scopeSelect),i=Le(Ee,o.__scopeSelect),[s,u]=a.useState(!1),c=D(r,i.onScrollButtonChange);return q(()=>{if(t.viewport&&t.isPositioned){let d=function(){const m=p.scrollHeight-p.clientHeight,g=Math.ceil(p.scrollTop)<m;u(g)};const p=t.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),s?e.jsx(gt,{...o,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=t;d&&p&&(d.scrollTop=d.scrollTop+p.offsetHeight)}}):null});xt.displayName=Ee;var gt=a.forwardRef((o,r)=>{const{__scopeSelect:t,onAutoScroll:i,...s}=o,u=X("SelectScrollButton",t),c=a.useRef(null),d=he(t),p=a.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return a.useEffect(()=>()=>p(),[p]),q(()=>{d().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),e.jsx(_.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:P(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:P(s.onPointerMove,()=>{u.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:P(s.onPointerLeave,()=>{p()})})}),Ns="SelectSeparator",vt=a.forwardRef((o,r)=>{const{__scopeSelect:t,...i}=o;return e.jsx(_.div,{"aria-hidden":!0,...i,ref:r})});vt.displayName=Ns;var _e="SelectArrow",js=a.forwardRef((o,r)=>{const{__scopeSelect:t,...i}=o,s=xe(t),u=Y(_e,t),c=X(_e,t);return u.open&&c.position==="popper"?e.jsx(zt,{...s,...i,ref:r}):null});js.displayName=_e;var Cs="SelectBubbleInput",wt=a.forwardRef(({__scopeSelect:o,value:r,...t},i)=>{const s=a.useRef(null),u=D(i,s),c=ss(r);return a.useEffect(()=>{const d=s.current;if(!d)return;const p=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==r&&g){const y=new Event("change",{bubbles:!0});g.call(d,r),d.dispatchEvent(y)}},[c,r]),e.jsx(_.select,{...t,style:{...Gt,...t.style},ref:u,defaultValue:r})});wt.displayName=Cs;function yt(o){return o===""||o===void 0}function St(o){const r=Vt(o),t=a.useRef(""),i=a.useRef(0),s=a.useCallback(c=>{const d=t.current+c;r(d),(function p(m){t.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>p(""),1e3))})(d)},[r]),u=a.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return a.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,s,u]}function bt(o,r,t){const s=r.length>1&&Array.from(r).every(m=>m===r[0])?r[0]:r,u=t?o.indexOf(t):-1;let c=Ts(o,Math.max(u,0));s.length===1&&(c=c.filter(m=>m!==t));const p=c.find(m=>m.textValue.toLowerCase().startsWith(s.toLowerCase()));return p!==t?p:void 0}function Ts(o,r){return o.map((t,i)=>o[(r+i)%o.length])}var Is=Ye,Nt=Ze,Ps=Je,ks=et,Rs=tt,jt=st,Es=rt,Ct=ct,Tt=pt,_s=ut,Ms=ft,It=ht,Pt=xt,kt=vt;const Te=Is,Ie=Ps,pe=a.forwardRef(({className:o,children:r,...t},i)=>e.jsxs(Nt,{ref:i,className:G("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...t,children:[r,e.jsx(ks,{asChild:!0,children:e.jsx(Ge,{className:"h-4 w-4 opacity-50"})})]}));pe.displayName=Nt.displayName;const Rt=a.forwardRef(({className:o,...r},t)=>e.jsx(It,{ref:t,className:G("flex cursor-default items-center justify-center py-1",o),...r,children:e.jsx(os,{className:"h-4 w-4"})}));Rt.displayName=It.displayName;const Et=a.forwardRef(({className:o,...r},t)=>e.jsx(Pt,{ref:t,className:G("flex cursor-default items-center justify-center py-1",o),...r,children:e.jsx(Ge,{className:"h-4 w-4"})}));Et.displayName=Pt.displayName;const ue=a.forwardRef(({className:o,children:r,position:t="popper",...i},s)=>e.jsx(Rs,{children:e.jsxs(jt,{ref:s,className:G("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-900 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...i,children:[e.jsx(Rt,{}),e.jsx(Es,{className:G("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(Et,{})]})}));ue.displayName=jt.displayName;const Ls=a.forwardRef(({className:o,...r},t)=>e.jsx(Ct,{ref:t,className:G("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...r}));Ls.displayName=Ct.displayName;const C=a.forwardRef(({className:o,children:r,...t},i)=>e.jsxs(Tt,{ref:i,className:G("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ms,{children:e.jsx(Yt,{className:"h-4 w-4"})})}),e.jsx(_s,{children:r})]}));C.displayName=Tt.displayName;const As=a.forwardRef(({className:o,...r},t)=>e.jsx(kt,{ref:t,className:G("-mx-1 my-1 h-px bg-muted",o),...r}));As.displayName=kt.displayName;function Js(){const[o,r]=a.useState(""),[t,i]=a.useState(!1),[s,u]=a.useState({style:"all",location:"",followers:"all",activity:"all"}),{user:c}=Xt(),[,d]=Zt(),{data:p=[],isLoading:m}=qt({queryKey:["/api/creators"]}),g=[{id:"1",name:"Sophie Martin",username:"@sophiestyle",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200&h=200&fit=crop&crop=face",bio:"Passionnée de mode minimaliste et sustainable fashion 🌿",location:"Paris, France",styleTags:["Minimaliste","Sustainable","Chic"],followersCount:12500,postsCount:347,rating:4.9,isFollowing:!1,featuredLooks:["https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1483985988355-763728e1935b?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=300&h=400&fit=crop"],isVerified:!0},{id:"2",name:"Emma Dubois",username:"@emmafashion",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200&h=200&fit=crop&crop=face",bio:"Streetwear lover & vintage collector 🎨",location:"Lyon, France",styleTags:["Streetwear","Vintage","Urban"],followersCount:8900,postsCount:256,rating:4.8,isFollowing:!0,featuredLooks:["https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1509631179647-0177331693ae?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1445205170230-053b83016050?w=300&h=400&fit=crop"],isVerified:!0},{id:"3",name:"Marie Leroy",username:"@marieelegance",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=200&h=200&fit=crop&crop=face",bio:"Élégance classique et mode intemporelle ✨",location:"Bordeaux, France",styleTags:["Classique","Élégant","Timeless"],followersCount:15600,postsCount:412,rating:4.9,isFollowing:!1,featuredLooks:["https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1496747611176-843222e1e57c?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1502716119720-b23a93e5fe1b?w=300&h=400&fit=crop"],isVerified:!0},{id:"4",name:"Léa Bernard",username:"@leaboheme",avatar:"https://images.unsplash.com/photo-1517841905240-472988babdf9?w=200&h=200&fit=crop&crop=face",bio:"Bohème chic & free spirit 🌸",location:"Marseille, France",styleTags:["Bohème","Colorful","Artistic"],followersCount:6800,postsCount:189,rating:4.7,isFollowing:!1,featuredLooks:["https://images.unsplash.com/photo-1506629082955-511b1aa562c8?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1523359346063-d879354b2db5?w=300&h=400&fit=crop","https://images.unsplash.com/photo-1529139574466-a303027c1d8b?w=300&h=400&fit=crop"],isVerified:!1}],w=(p.length>0?p:g).filter(n=>!(o&&!n.name.toLowerCase().includes(o.toLowerCase())&&!n.username.toLowerCase().includes(o.toLowerCase())&&!n.styleTags.some(l=>l.toLowerCase().includes(o.toLowerCase()))||s.style!=="all"&&!n.styleTags.some(l=>l.toLowerCase()===s.style.toLowerCase())||s.location&&!n.location.toLowerCase().includes(s.location.toLowerCase())||s.followers==="rising"&&(n.followersCount<1e3||n.followersCount>=5e3)||s.followers==="established"&&(n.followersCount<5e3||n.followersCount>=1e4)||s.followers==="popular"&&n.followersCount<1e4||s.followers==="verified"&&!n.isVerified||s.activity==="active"&&n.postsCount<50||s.activity==="moderate"&&(n.postsCount<10||n.postsCount>=50)||s.activity==="new"&&n.postsCount>=10)),j=async n=>{try{je.getFollowing().includes(n)?je.unfollow(n):je.follow(n),window.location.reload()}catch(l){console.error("Error following creator:",l)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-pink-100 to-purple-100 rounded-full px-4 py-2 mb-4",children:[e.jsx(Ne,{className:"w-5 h-5 text-pink-600"}),e.jsx("span",{className:"text-sm font-semibold text-purple-700",children:"Découvre les fashionistas"})]}),e.jsx("h1",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Créateurs Mode"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Suis les passionnés de mode, inspire-toi de leurs looks et construis ta communauté style"})]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Oe,{"data-testid":"input-search-creators",placeholder:"Rechercher un créateur ou un style...",value:o,onChange:n=>r(n.target.value),className:"pl-12 pr-4 py-6 text-lg rounded-full border-2 border-gray-200 focus:border-pink-400"})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ee,{variant:t?"default":"outline",className:"gap-2 bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white",onClick:()=>i(!t),children:[e.jsx(He,{className:"h-4 w-4"}),"Filtres",(s.style!=="all"||s.location||s.followers!=="all"||s.activity!=="all")&&e.jsx(De,{variant:"secondary",className:"ml-1 bg-white text-pink-600",children:[s.style!=="all",s.location,s.followers!=="all",s.activity!=="all"].filter(Boolean).length})]}),(s.style!=="all"||s.location||s.followers!=="all"||s.activity!=="all")&&e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>u({style:"all",location:"",followers:"all",activity:"all"}),className:"gap-1 text-muted-foreground hover:text-foreground",children:[e.jsx(de,{className:"h-3 w-3"}),"Effacer"]})]}),e.jsxs("h2",{className:"text-xl font-bold text-gray-700","data-testid":"text-creators-count",children:[w.length," créateur",w.length>1?"s":""]})]}),t&&e.jsx(Ve,{className:"border-2 border-pink-200 shadow-xl animate-in slide-in-from-top-2 duration-300 bg-gradient-to-br from-pink-50 to-purple-50",children:e.jsxs(Be,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-pink-600 flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5"}),"Filtres de recherche"]}),e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>i(!1),className:"gap-1 text-muted-foreground hover:text-pink-600",children:[e.jsx(de,{className:"h-4 w-4"}),"Fermer"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold flex items-center gap-2 text-pink-600",children:[e.jsx(Ue,{className:"h-4 w-4"}),"Style vestimentaire"]}),e.jsxs(Te,{value:s.style,onValueChange:n=>u(l=>({...l,style:n})),children:[e.jsx(pe,{"data-testid":"select-style-filter",className:"border-pink-200 focus:border-pink-400",children:e.jsx(Ie,{placeholder:"Tous les styles"})}),e.jsxs(ue,{children:[e.jsx(C,{value:"all",children:"Tous les styles"}),e.jsx(C,{value:"minimaliste",children:"🤍 Minimaliste"}),e.jsx(C,{value:"streetwear",children:"🏙️ Streetwear"}),e.jsx(C,{value:"classique",children:"👔 Classique"}),e.jsx(C,{value:"bohème",children:"🌸 Bohème"}),e.jsx(C,{value:"vintage",children:"📻 Vintage"}),e.jsx(C,{value:"sustainable",children:"🌿 Sustainable"}),e.jsx(C,{value:"luxe",children:"💎 Luxe"}),e.jsx(C,{value:"casual",children:"👟 Casual"}),e.jsx(C,{value:"sportswear",children:"⚡ Sportswear"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold flex items-center gap-2 text-pink-600",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Localisation"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Oe,{"data-testid":"input-location-filter",placeholder:"Paris, Lyon, Marseille...",value:s.location,onChange:n=>u(l=>({...l,location:n.target.value})),className:"pl-10 border-pink-200 focus:border-pink-400"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold flex items-center gap-2 text-pink-600",children:[e.jsx(We,{className:"h-4 w-4"}),"Popularité"]}),e.jsxs(Te,{value:s.followers,onValueChange:n=>u(l=>({...l,followers:n})),children:[e.jsx(pe,{"data-testid":"select-popularity-filter",className:"border-pink-200 focus:border-pink-400",children:e.jsx(Ie,{placeholder:"Tous"})}),e.jsxs(ue,{children:[e.jsx(C,{value:"all",children:"Tous les créateurs"}),e.jsx(C,{value:"rising",children:"🔥 En croissance (1k-5k)"}),e.jsx(C,{value:"established",children:"⭐ Établis (5k-10k)"}),e.jsx(C,{value:"popular",children:"👑 Populaires (10k+)"}),e.jsx(C,{value:"verified",children:"✓ Vérifiés uniquement"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold flex items-center gap-2 text-pink-600",children:[e.jsx(as,{className:"h-4 w-4"}),"Activité"]}),e.jsxs(Te,{value:s.activity||"all",onValueChange:n=>u(l=>({...l,activity:n})),children:[e.jsx(pe,{"data-testid":"select-activity-filter",className:"border-pink-200 focus:border-pink-400",children:e.jsx(Ie,{placeholder:"Toutes activités"})}),e.jsxs(ue,{children:[e.jsx(C,{value:"all",children:"Toutes activités"}),e.jsx(C,{value:"active",children:"Très actifs (50+ looks)"}),e.jsx(C,{value:"moderate",children:"Modérés (10-50 looks)"}),e.jsx(C,{value:"new",children:"Nouveaux créateurs"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-pink-200",children:[e.jsxs("div",{className:"flex gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-pink-500"}),e.jsx("span",{className:"font-semibold text-pink-600",children:w.length}),e.jsx("span",{className:"text-gray-600",children:"résultats"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"font-semibold text-green-600",children:w.filter(n=>n.followersCount>5e3).length}),e.jsx("span",{className:"text-gray-600",children:"tendance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"font-semibold text-blue-600",children:w.filter(n=>n.isVerified).length}),e.jsx("span",{className:"text-gray-600",children:"vérifiés"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{"data-testid":"button-reset-filters",variant:"outline",size:"sm",onClick:()=>u({style:"all",location:"",followers:"all",activity:"all"}),className:"gap-1",children:[e.jsx(de,{className:"h-3 w-3"}),"Réinitialiser"]}),e.jsx(ee,{variant:"default",size:"sm",onClick:()=>i(!1),className:"gap-1 bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600",children:"Appliquer"})]})]})]})}),e.jsxs("div",{children:[m?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600 mx-auto"}),e.jsx("p",{className:"text-gray-500 mt-4",children:"Chargement..."})]}):e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:w.map(n=>e.jsx(Ve,{className:"overflow-hidden hover:shadow-xl transition-shadow","data-testid":`card-creator-${n.id}`,children:e.jsxs(Be,{className:"p-0",children:[e.jsx("div",{className:"grid grid-cols-3 gap-0.5 bg-gray-100",children:n.featuredLooks.map((l,x)=>e.jsxs("div",{className:"aspect-square relative overflow-hidden group",children:[e.jsx("img",{src:l,alt:`Look ${x+1}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"})]},x))}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Jt,{className:"w-16 h-16 ring-4 ring-pink-100",children:[e.jsx(es,{src:n.avatar,alt:n.name}),e.jsx(ts,{children:n.name.split(" ").map(l=>l[0]).join("")})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-lg","data-testid":`text-creator-name-${n.id}`,children:n.name}),n.isVerified&&e.jsx("div",{className:"bg-blue-500 rounded-full p-0.5",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),e.jsx("p",{className:"text-sm text-gray-500",children:n.username})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ns,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:n.rating})]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:n.bio}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:n.location})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.styleTags.map(l=>e.jsx(De,{variant:"secondary",className:"text-xs bg-pink-100 text-pink-700",children:l},l))}),e.jsxs("div",{className:"flex items-center gap-6 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-semibold",children:n.followersCount.toLocaleString()}),e.jsx("span",{className:"text-gray-500",children:"followers"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ue,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-semibold",children:n.postsCount}),e.jsx("span",{className:"text-gray-500",children:"looks"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{"data-testid":`button-follow-${n.id}`,onClick:()=>j(n.id),className:`flex-1 ${n.isFollowing?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white"}`,children:n.isFollowing?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Abonné"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Suivre"]})}),e.jsx(ee,{"data-testid":`button-view-profile-${n.id}`,variant:"outline",onClick:()=>d(`/wardrobe/${n.id}`),children:e.jsx(Qt,{className:"w-4 h-4"})})]})]})]})},n.id))}),w.length===0&&!m&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"Aucun créateur trouvé"}),e.jsx("p",{className:"text-gray-400",children:"Essayez d'ajuster vos filtres"})]})]})]})})]})}export{Js as default};
