import{r as t,j as e}from"./ui-D9tbKjPW.js";import{A as L,m as p}from"./ArticleFormMVP-BLOIgmqc.js";import{a as T,u as P,S as h,I as B,B as a,r as z,C as j,H as v,i as b}from"./index-DuEhD2mG.js";import{B as u}from"./badge-BxhaW2rr.js";import{S as M}from"./search-BCiOmZkJ.js";import{F as R}from"./filter-uCPmm2E0.js";import{T as U}from"./trending-up-DMD9rqc7.js";import{M as N}from"./message-circle-E93mTGba.js";import"./vendor-D3F3s8fL.js";function K(){const[w,k]=t.useState([]),[y,S]=t.useState([]),[i,o]=t.useState(!1),[n,C]=t.useState(""),[c,d]=t.useState("all"),{user:f}=T();P();function m(){const s=p.getArticles().filter(l=>l.isPublic);k(s),S(p.getProfiles())}t.useEffect(()=>{m()},[]);const x=w.filter(s=>n?s.title.toLowerCase().includes(n.toLowerCase()):!0),A=s=>{p.toggleLike(s,f?.id?.toString()||"me"),m()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-md border-b border-gray-200 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"w-6 h-6 text-pink-500"}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Feed Mode"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:w-80",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(B,{placeholder:"Rechercher un style, une couleur...",className:"pl-10 bg-white border-gray-300",value:n,onChange:s=>C(s.target.value)})]}),e.jsx(a,{onClick:()=>o(!i),className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white",children:"+ Ajouter un look"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 overflow-x-auto pb-2",children:[e.jsxs(u,{variant:c==="all"?"default":"outline",className:"cursor-pointer whitespace-nowrap",onClick:()=>d("all"),children:[e.jsx(R,{className:"w-3 h-3 mr-1"}),"Tous les looks"]}),e.jsxs(u,{variant:c==="trending"?"default":"outline",className:"cursor-pointer whitespace-nowrap",onClick:()=>d("trending"),children:[e.jsx(U,{className:"w-3 h-3 mr-1"}),"Tendances"]}),e.jsxs(u,{variant:c==="following"?"default":"outline",className:"cursor-pointer whitespace-nowrap",onClick:()=>d("following"),children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Abonnements"]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[i&&e.jsx("div",{className:"mb-8 animate-in fade-in slide-in-from-top duration-300",children:e.jsx(j,{className:"p-6 border-2 border-pink-200 bg-white/80 backdrop-blur",children:e.jsx(L,{onSaved:()=>{m(),o(!1)}})})}),x.length===0&&!i&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-pink-100 to-purple-100 rounded-full flex items-center justify-center",children:e.jsx(h,{className:"w-12 h-12 text-pink-500"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Aucun look pour le moment"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Sois le premier à partager ton style !"}),e.jsx(a,{onClick:()=>o(!0),className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white",children:"+ Créer mon premier look"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.map(s=>{const l=y.find(r=>r.id===s.userId)||{name:"Utilisateur"},g=s.likes?.includes(f?.id?.toString()||"me"),F=s.likes?.length||0;return e.jsxs(j,{className:"group overflow-hidden hover:shadow-2xl transition-all duration-300 border-2 border-transparent hover:border-pink-200 cursor-pointer",children:[e.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-gray-100",children:[e.jsx("img",{src:s.images?.[0]||"https://via.placeholder.com/400x600?text=Look",alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex gap-2",children:[e.jsx(a,{size:"sm",variant:"secondary",className:"flex-1 bg-white/90 hover:bg-white",onClick:r=>{r.stopPropagation(),A(s.id)},children:e.jsx(v,{className:`w-4 h-4 ${g?"fill-pink-500 text-pink-500":""}`})}),e.jsx(a,{size:"sm",variant:"secondary",className:"flex-1 bg-white/90 hover:bg-white",children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx(a,{size:"sm",variant:"secondary",className:"flex-1 bg-white/90 hover:bg-white",children:e.jsx(b,{className:"w-4 h-4"})})]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-pink-400 to-purple-500 flex items-center justify-center text-white text-xs font-semibold",children:l.name.split(" ").map(r=>r[0]).join("").toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-sm text-gray-900 truncate",children:l.name}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleDateString("fr-FR")})]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{className:`w-4 h-4 ${g?"fill-pink-500 text-pink-500":""}`}),e.jsx("span",{className:"font-medium",children:F})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"0"})]}),e.jsx("div",{className:"flex items-center gap-1 ml-auto",children:e.jsx(b,{className:"w-4 h-4"})})]})]})]},s.id)})}),x.length>0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(h,{className:"w-8 h-8 mx-auto mb-3 text-pink-300"}),e.jsx("p",{children:"Tu as tout vu ! Reviens plus tard pour plus d'inspiration."})]})]})]})}export{K as default};
