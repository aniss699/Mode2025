import{r as n,j as e}from"./ui-D9tbKjPW.js";import{d as x,g as ee,B as w,C as F,b as ge,i as je,c as G,a1 as ve,e as be,f as fe,a as ye,u as Ne,Z as ke,T as O,t as k,I as S,S as we,W as Ce,H as Se}from"./index-UZk3kCW9.js";import{B as T}from"./badge-BqfO_1uT.js";import{T as ae}from"./textarea-CB15vCRe.js";import{d as re,C as ie}from"./categories-CJOmrs8V.js";import{R as de}from"./refresh-cw-rve8dBKA.js";import{E as me}from"./euro-Du8Oqg2N.js";import{T as Me}from"./trending-up-DQAV5jtw.js";import{A as W}from"./feedback-buttons-wrA7V1-6.js";import{S as De,a as Pe,b as Te,c as qe,d as X}from"./select-axfxDtY0.js";import{S as oe}from"./switch-scoKEiJL.js";import{H as ne}from"./house-BEnIMhXj.js";import{S as le}from"./star-DUf0r90b.js";import{C as Y}from"./chevron-left-CTWsj59a.js";import{M as ze}from"./map-pin-lkyWa89h.js";import{C as Le}from"./circle-plus-CtFreADB.js";import{T as Ee}from"./trash-2-BmG_oDpC.js";import{G as Ie}from"./graduation-cap-CRvBGUJ8.js";import{C as Ae}from"./crown-CRfyJVxA.js";import{P as Fe}from"./palette-Bs6-T8po.js";import{C as $e}from"./calendar-C5LeJhnL.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=x("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=x("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=x("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=x("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=x("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=x("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=x("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=x("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=x("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=x("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=x("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=x("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=x("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);function Xe({title:b,description:y,category:M,onPriceSuggestion:$}){const[q,C]=n.useState(!1),[i,z]=n.useState(null),{toast:L}=ee(),h=async()=>{if(!b||!y||!M){L({title:"Informations manquantes",description:"Veuillez remplir le titre, la description et la catÃ©gorie",variant:"destructive"});return}C(!0);try{await new Promise(c=>setTimeout(c,1500));const l=f(b,y,M);z(l),$?.(l),L({title:"Suggestion de prix gÃ©nÃ©rÃ©e !",description:"L'IA a analysÃ© votre projet et propose une fourchette de prix"})}catch(l){console.error("Erreur suggestion prix:",l),L({title:"Erreur",description:"Impossible de gÃ©nÃ©rer la suggestion de prix",variant:"destructive"})}finally{C(!1)}},f=(l,c,d)=>{const o={dÃ©veloppement:{base:500,min:.7,max:1.8,factors:["ComplexitÃ© technique","DÃ©lais","Technologies"]},design:{base:300,min:.6,max:1.6,factors:["CrÃ©ativitÃ©","RÃ©visions","Supports"]},marketing:{base:400,min:.5,max:2,factors:["Audience","Canaux","DurÃ©e campagne"]},conseil:{base:600,min:.8,max:2.2,factors:["Expertise","Secteur","Urgence"]},travaux:{base:800,min:.9,max:1.5,factors:["MatÃ©riaux","Surface","ComplexitÃ©"]},services:{base:250,min:.6,max:1.4,factors:["DurÃ©e","FrÃ©quence","SpÃ©cialisation"]}},m=o[d]||o.services,p=c.toLowerCase().split(" "),I=["complexe","avancÃ©","personnalisÃ©","sur-mesure","intÃ©gration","api","base de donnÃ©es","responsive","mobile"].filter(Q=>p.some(H=>H.includes(Q))).length,te=Math.min(c.length/150,1.5),g=Math.min(I*.2,1),E=1+te*.3+g*.4,B=m.base,U=1.1,Z=B*E*U,J=Math.round(Z*m.min),K=Math.round(Z*m.max),R=Math.round((J+K)/2),_={minPrice:J,maxPrice:K,averagePrice:R,factors:m.factors||["Analyse complexitÃ©","MarchÃ© local","Standards secteur"],confidence:.82+Math.random()*.15,baseCalculation:{basePrice:B,complexityFactor:E,marketAdjustment:U,sampleSize:Math.floor(200+Math.random()*150),keywordsFound:I,descriptionLength:c.length}};return console.log("Prix suggÃ©rÃ© avec dÃ©tails:",_),_},D=l=>l>=.8?"text-green-600":l>=.6?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(w,{onClick:h,disabled:q,variant:"outline",className:"w-full bg-blue-50 hover:bg-blue-100 border-blue-200",children:[q?e.jsx(de,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(me,{className:"w-4 h-4 mr-2"}),"SuggÃ©rer un prix IA"]}),i&&e.jsxs(F,{className:"border-blue-200 bg-blue-50/50",children:[e.jsx(ge,{children:e.jsxs(je,{className:"text-lg flex items-center text-blue-800",children:[e.jsx(Me,{className:"w-5 h-5 mr-2"}),"Suggestion de prix IA",e.jsxs(T,{className:`ml-2 ${D(i.confidence)}`,children:[Math.round(i.confidence*100),"% confiance"]})]})}),e.jsxs(G,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Minimum"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[i.minPrice,"â‚¬"]})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-100 rounded-lg border-2 border-blue-300",children:[e.jsx("p",{className:"text-sm text-blue-700",children:"RecommandÃ©"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:[i.averagePrice,"â‚¬"]})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Maximum"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[i.maxPrice,"â‚¬"]})]})]}),i.factors&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Facteurs analysÃ©s :"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.factors.map((l,c)=>e.jsx(T,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:l},c))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ðŸ§®"}),"Comment ce prix a Ã©tÃ© calculÃ©"]}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Prix de base :"})," ",i.baseCalculation?.basePrice?.toLocaleString("fr-FR")||"N/A",'â‚¬ (tarif moyen pour la catÃ©gorie "',M,'")']})]}),i.baseCalculation?.complexityFactor&&e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-orange-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Ajustement complexitÃ© :"})," x",i.baseCalculation.complexityFactor.toFixed(2),"(analyse du contenu et des exigences techniques)"]})]}),i.baseCalculation?.marketAdjustment&&e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-green-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Facteur marchÃ© :"})," x",i.baseCalculation.marketAdjustment.toFixed(2),"(demande et concurrence actuelles)"]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Fourchette finale :"})," Calcul algorithmique basÃ© sur ",i.baseCalculation?.sampleSize||"200+"," projets similaires"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-white/60 rounded border-l-4 border-blue-400",children:e.jsxs("p",{className:"text-xs italic",children:["ðŸ’¡ ",e.jsx("strong",{children:"MÃ©thodologie :"})," Notre IA analyse la description, identifie les mots-clÃ©s techniques, Ã©value la complexitÃ© et applique des coefficients basÃ©s sur les donnÃ©es du marchÃ© franÃ§ais pour cette catÃ©gorie."]})})]})]})]})]})]})]})}function ce({currentText:b,fieldType:y,category:M="",onSuggestion:$,className:q=""}){const[C,i]=n.useState(!1),{toast:z}=ee(),[L,h]=n.useState(null),[f,D]=n.useState(!1),l=async()=>{if(console.log("ðŸŽ¯ DÃ©clenchement suggestion pour:",{text:b.substring(0,50),fieldType:y,category:M}),!b.trim()){console.warn("âŒ Texte vide fourni"),h("Aucun texte Ã  amÃ©liorer");return}i(!0),h(null),D(!1);try{console.log("ðŸ“¡ Envoi requÃªte /api/ai/enhance-text...");const d={text:b.trim(),fieldType:y,category:M||"gÃ©nÃ©ral"};console.log("ðŸ“¦ Corps de la requÃªte:",d);const o=await fetch("/api/ai/enhance-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(console.log("ðŸ“¨ RÃ©ponse reÃ§ue, status:",o.status),!o.ok){const p=await o.text();console.error("âŒ Erreur HTTP:",o.status,p);let P=`Erreur ${o.status}`;if(o.status===429)P="Quota IA dÃ©passÃ© - Essayez plus tard";else try{P=JSON.parse(p).error||p}catch{P=p||`Erreur ${o.status}`}throw new Error(P)}const m=await o.json();if(console.log("ðŸ“‹ DonnÃ©es reÃ§ues:",m),m.success&&m.data?.enhancedText)console.log("âœ… Suggestion reÃ§ue avec succÃ¨s"),m.data.enhancedText.length>b.trim().length*.8?($(m.data.enhancedText),D(!0),z({title:"Texte amÃ©liorÃ© !",description:"L'IA a optimisÃ© votre texte"})):(console.warn("âš ï¸ Suggestion trop courte, conservation du texte original"),h("La suggestion gÃ©nÃ©rÃ©e semble incomplÃ¨te"),z({title:"Suggestion IncomplÃ¨te",description:"L'IA n'a pas pu amÃ©liorer le texte de maniÃ¨re significative.",variant:"destructive"}));else{console.error("âŒ RÃ©ponse invalide:",m);const p=m.error||"RÃ©ponse invalide du serveur";throw new Error(p)}}catch(d){console.error("Erreur suggestion texte:",d);const o=d instanceof Error?d.message:"Erreur inconnue";h(o),z({title:"Erreur",description:`IA temporairement indisponible: ${o}`,variant:"destructive"})}finally{i(!1)}},c=()=>{switch(y){case"title":return"AmÃ©liorer le titre";case"description":return"Enrichir la description";case"requirements":return"PrÃ©ciser les exigences";default:return"Suggestion IA"}};return e.jsxs(w,{onClick:l,disabled:C||!b.trim(),variant:"outline",size:"sm",className:`bg-purple-50 hover:bg-purple-100 border-purple-200 text-purple-700 ${q}`,children:[C?e.jsx(de,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ve,{className:"w-4 h-4 mr-2"}),c()]})}function wt({onComplete:b,onSubmit:y,isLoading:M,error:$,initialStep:q=-1}){const{user:C}=be(),i=fe(),{t:z}=ye(),L=()=>{if(typeof window<"u"){const j=new URLSearchParams(window.location.search).get("step");if(j){const r=parseInt(j);if(!isNaN(r))return r}}return q},[h,f]=n.useState(L()),[D,l]=n.useState(!1),[c,d]=n.useState(null),{toast:o}=ee(),[,m]=Ne(),[p,P]=n.useState(!1),[I,te]=n.useState(!1),[g,E]=n.useState([]),B=u=>({Hammer:Ge,Home:ne,Baby:Be,BookOpen:Re,Heart:Se,Car:He,ChefHat:Ve,Calendar:$e,Globe:Ce,Palette:Fe,Laptop:Ue,Settings:we,Scale:Qe,Star:le,Cpu:Oe,Crown:Ae,Stethoscope:We,Target:O,Building:_e,PiggyBank:Ke,Paintbrush:Je,Microscope:Ze,GraduationCap:Ie})[u]||O,[U,Z]=n.useState(null),[J,K]=n.useState({persona:null,favoriteBrands:[],styleTags:[],firstLooks:[],bio:""}),[R,_]=n.useState(null),[Q,H]=n.useState(!1),[se,V]=n.useState({}),pe=async()=>{l(!0);try{if(p){if(console.log("ðŸ“‹ CrÃ©ation mission en Ã©quipe"),g.length===0){o({title:"Ã‰quipe vide",description:"Veuillez ajouter au moins une spÃ©cialitÃ© Ã  votre Ã©quipe.",variant:"destructive"}),l(!1);return}const r=await fetch("/api/teams/create-project",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({projectData:{title:projectData.title,description:projectData.description,category:selectedCategory||"developpement",budget:projectData.budget||"1000",location:projectData.needsLocation?projectData.location.address:"Remote",isTeamMode:!0},teamRequirements:g})});if(!r.ok){const v=await r.json().catch(()=>({error:"Erreur serveur"}));throw new Error(v.error||v.details||`Erreur ${r.status}`)}const A=await r.json();console.log("âœ… Projet Ã©quipe crÃ©Ã©:",A),o({title:"Projet d'Ã©quipe crÃ©Ã© !",description:`Votre projet nÃ©cessite ${g.length} spÃ©cialitÃ©${g.length>1?"s":""} et est maintenant visible sur le marketplace.`,duration:3e3}),i.invalidateQueries({queryKey:["missions"]}),m("/missions");return}console.log("ðŸ“‹ CrÃ©ation mission simple");const u={title:projectData.title,description:projectData.description,category:selectedCategory,budget:Number(projectData.budget),location:projectData.needsLocation?projectData.location.address:"Remote",userId:C?.id?.toString()||null,clientName:C?.name||"Utilisateur"};if(y){console.log("ðŸ”„ Utilisation de onSubmit fourni par create-mission.tsx"),await y(u);return}const j=await fetch("/api/missions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(j.ok){const r=await j.json();console.log("âœ… Mission crÃ©Ã©e avec succÃ¨s:",r),o({title:"Mission crÃ©Ã©e !",description:"Votre mission a Ã©tÃ© publiÃ©e avec succÃ¨s."}),i.invalidateQueries({queryKey:["missions"]}),m("/missions"),b?.({serviceType,selectedCategory,projectData,missionId:r.id})}else{const r=await j.json();throw new Error(r.error||"Erreur lors de la crÃ©ation de la mission")}}catch(u){console.error("Erreur crÃ©ation mission:",u),o({title:"Erreur de crÃ©ation",description:u.message||"Impossible de crÃ©er la mission. VÃ©rifiez votre connexion.",variant:"destructive"})}finally{l(!1)}};n.useEffect(()=>{const u=setTimeout(()=>{},100);return()=>clearTimeout(u)},[h]);const ue=[()=>e.jsx("div",{className:"w-full min-h-[100svh] md:h-screen md:max-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 overflow-y-auto md:overflow-hidden",children:e.jsx("div",{className:"flex flex-col justify-start md:justify-center items-center h-full px-2 pt-2 pb-4 md:px-6 md:py-8",children:e.jsxs("div",{className:"text-center w-full max-w-5xl mx-auto space-y-2 md:space-y-8 flex flex-col md:justify-center min-h-0",children:[e.jsxs("div",{className:"space-y-2 md:space-y-6 relative flex-shrink-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-600/10 via-purple-600/10 to-pink-600/10 rounded-3xl blur-3xl opacity-30"}),e.jsxs("div",{className:"relative max-w-4xl mx-auto px-3",children:[e.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl text-gray-800 dark:text-white font-semibold leading-[1.3]",children:"Votre garde-robe devient votre portfolio de style"}),e.jsx("p",{className:"text-sm md:text-lg text-gray-600 dark:text-gray-300 mt-2 md:mt-4",children:"Partagez vos looks, dÃ©couvrez l'inspiration, crÃ©ez votre identitÃ© mode"}),e.jsx("div",{className:"w-16 md:w-24 h-1 bg-gradient-to-r from-pink-600 to-purple-600 rounded-full mx-auto mt-2 md:mt-4"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-6 max-w-4xl mx-auto flex-none md:flex-1 md:min-h-0",children:[e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-2xl p-3 md:p-6 text-center space-y-2 md:space-y-3 group hover:bg-white/80 dark:hover:bg-gray-800/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border border-pink-100/50 dark:border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 mx-auto bg-gradient-to-br from-pink-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(ne,{className:"w-5 h-5 md:w-8 md:h-8 text-white"})}),e.jsx("h3",{className:"text-sm md:text-lg font-bold text-gray-900 dark:text-white",children:"Dressing virtuel"}),e.jsx("p",{className:"text-xs md:text-base text-gray-600 dark:text-gray-300 leading-relaxed",children:"Organisez votre garde-robe, crÃ©ez des looks, partagez votre style unique"})]}),e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-2xl p-3 md:p-6 text-center space-y-2 md:space-y-3 group hover:bg-white/80 dark:hover:bg-gray-800/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border border-purple-100/50 dark:border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 mx-auto bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(Users,{className:"w-5 h-5 md:w-8 md:h-8 text-white"})}),e.jsx("h3",{className:"text-sm md:text-lg font-bold text-gray-900 dark:text-white",children:"Feed d'inspiration"}),e.jsx("p",{className:"text-xs md:text-base text-gray-600 dark:text-gray-300 leading-relaxed",children:"DÃ©couvrez les looks de la communautÃ©, suivez vos fashionistas prÃ©fÃ©rÃ©s"})]}),e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-2xl p-3 md:p-6 text-center space-y-2 md:space-y-3 group hover:bg-white/80 dark:hover:bg-gray-800/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border border-blue-100/50 dark:border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 mx-auto bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(le,{className:"w-5 h-5 md:w-8 md:h-8 text-white"})}),e.jsx("h3",{className:"text-sm md:text-lg font-bold text-gray-900 dark:text-white",children:"IA Fashion"}),e.jsx("p",{className:"text-xs md:text-base text-gray-600 dark:text-gray-300 leading-relaxed",children:"Suggestions de looks automatiques, dÃ©tection de tendances, conseils personnalisÃ©s"})]})]}),e.jsx("div",{className:"flex justify-center items-center mt-3 md:mt-12 px-4 flex-shrink-0",children:e.jsx(w,{onClick:()=>f(0),className:"w-full sm:w-auto bg-gradient-to-r from-pink-600 via-purple-600 to-pink-600 hover:from-pink-700 hover:via-purple-700 hover:to-pink-700 text-white px-6 py-2 md:px-12 md:py-4 rounded-2xl font-semibold transition-all duration-300 text-sm md:text-lg shadow-xl hover:shadow-2xl hover:scale-105 transform",size:"lg","data-testid":"button-create-profile",children:e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"CrÃ©er mon profil mode"}),e.jsx("span",{className:"animate-bounce",children:"âœ¨"})]})})}),e.jsx("div",{className:"mt-2 md:mt-8 flex-shrink-0",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs md:text-sm px-4 opacity-75",children:"Rejoignez des milliers de fashionistas qui partagent leur style"})})]})})}),()=>e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 progressive-flow-title",children:"Comment souhaitez-vous procÃ©der ?"}),e.jsx("p",{className:"text-gray-600 progressive-flow-description",children:"SÃ©lectionnez la mÃ©thode qui vous convient le mieux"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto progressive-flow-grid",children:[e.jsx(F,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${serviceType==="mise-en-relation"?"ring-2 ring-purple-500 bg-purple-50":"hover:bg-purple-50/30"} ${c==="mise-en-relation"?"scale-95 ring-4 ring-purple-400 bg-purple-100 animate-pulse-glow":""}`,onClick:()=>{setServiceType("mise-en-relation"),d("mise-en-relation"),setTimeout(()=>{f(1),d(null)},400)},children:e.jsxs(G,{className:"p-6 text-center",children:[e.jsx(ke,{className:`w-12 h-12 mx-auto mb-4 text-purple-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 ${c==="mise-en-relation"?"scale-125 animate-pulse text-purple-800":""}`}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Mise en relation"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Contact direct avec des prestataires sÃ©lectionnÃ©s"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{variant:"secondary",className:"text-xs px-3 py-1",children:"Fini la recherche de contact infructueuse"}),e.jsx(T,{variant:"secondary",className:"text-xs px-3 py-1",children:"Notre rÃ©seau vous recommande"})]})]})}),e.jsx(F,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${serviceType==="appel-offres"?"ring-2 ring-orange-500 bg-orange-50":"hover:bg-orange-50/30"} ${c==="appel-offres"?"scale-95 ring-4 ring-orange-400 bg-orange-100 animate-pulse-glow":""}`,onClick:()=>{setServiceType("appel-offres"),d("appel-offres"),setTimeout(()=>{f(1),d(null)},400)},children:e.jsxs(G,{className:"p-6 text-center",children:[e.jsx(O,{className:`w-12 h-12 mx-auto mb-4 text-orange-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 ${c==="appel-offres"?"scale-125 animate-pulse text-orange-800":""}`}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Appel d'offres"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Recevez plusieurs propositions et choisissez la meilleure"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{variant:"secondary",className:"text-xs px-3 py-1",children:"Publiez votre projet facilement"}),e.jsx(T,{variant:"secondary",className:"text-xs px-3 py-1",children:"Comparez et sÃ©lectionnez les offres"})]})]})})]}),e.jsxs(w,{variant:"outline",onClick:()=>f(-1),className:"mt-4",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Retour"]})]}),()=>{const u=serviceType==="mise-en-relation"?re:ie,j=serviceType==="mise-en-relation"?"expert":"projet";return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center space-y-2 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 animate-bounce-in progressive-flow-title",children:"Dans quel domaine ?"}),e.jsxs("p",{className:"text-gray-600 animate-slide-up progressive-flow-description",children:["SÃ©lectionnez la catÃ©gorie qui correspond Ã  votre ",j]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 category-grid",children:u.map(r=>e.jsx(F,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg hover:scale-105 hover:-translate-y-1 group card-shine ${selectedCategory===r.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-blue-50/20"} ${c===r.id?"scale-95 ring-4 ring-blue-400 bg-blue-100 animate-pulse-glow":""}`,onClick:()=>{setSelectedCategory(r.id),d(r.id),setTimeout(()=>{f(2),d(null)},400)},children:e.jsxs(G,{className:"p-4 text-center category-card",children:[e.jsx("div",{className:"mb-3",children:(()=>{const A=B(r.icon);return e.jsx(A,{className:`w-8 h-8 mx-auto ${r.color} transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${c===r.id?"scale-125 animate-pulse":""}`})})()}),e.jsx("h3",{className:"font-medium text-sm leading-tight",children:r.name}),r.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.description})]})},r.id))}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(w,{variant:"outline",onClick:()=>f(0),children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Retour"]})})]})},()=>{const j=(serviceType==="mise-en-relation"?re:ie).find(t=>t.id===selectedCategory),r=serviceType==="mise-en-relation"?"demande de contact":"projet",A=()=>{E([...g,{profession:"",description:"",required_skills:[],estimated_budget:Math.round(Number(projectData.budget)*.3)||1e3,estimated_days:10,min_experience:2,is_lead_role:g.length===0,importance:"high"}])},v=(t,s,a)=>{const N=[...g];N[t]={...N[t],[s]:a},E(N)},xe=t=>{E(g.filter((s,a)=>a!==t))},he=(t,s)=>{const a=s.split(",").map(N=>N.trim()).filter(N=>N.length>0);v(t,"required_skills",a)};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center space-y-2 animate-fade-in",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 animate-bounce-in progressive-flow-title",children:["DÃ©crivez votre ",r," ",j?.name]}),e.jsxs("p",{className:"text-gray-600 animate-slide-up progressive-flow-description",children:["Plus votre description est prÃ©cise, ",serviceType==="mise-en-relation"?"plus les experts seront adaptÃ©s":"meilleures seront les propositions"]})]}),e.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto progressive-flow-form",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx(oe,{id:"team-mode",checked:p,onCheckedChange:P}),e.jsx(k,{htmlFor:"team-mode",className:"text-blue-900 font-medium",children:"ðŸ¤ Mode Ã©quipe - Diviser le projet en plusieurs spÃ©cialitÃ©s"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Titre du ",r," *"]}),e.jsx(ce,{currentText:projectData.title,fieldType:"title",category:selectedCategory,onSuggestion:t=>{setProjectData(s=>({...s,title:t})),V(s=>({...s,title:!0}))},className:"text-xs"})]}),e.jsx(S,{placeholder:serviceType==="mise-en-relation"?`Ex: Recherche ${j?.name.toLowerCase()} pour conseil juridique`:"Ex: CrÃ©ation d'un site web e-commerce",value:projectData.title,onChange:t=>setProjectData(s=>({...s,title:t.target.value}))}),se.title&&e.jsx("div",{className:"mt-2",children:e.jsx(W,{phase:"brief_enhance",prompt:{field:"title",text:projectData.title},onFeedback:()=>V(t=>({...t,title:!1}))})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description dÃ©taillÃ©e *"}),e.jsx(ce,{currentText:projectData.description,fieldType:"description",category:selectedCategory,onSuggestion:t=>{setProjectData(s=>({...s,description:t})),V(s=>({...s,description:!0}))},className:"text-xs"})]}),e.jsx(ae,{placeholder:serviceType==="mise-en-relation"?"DÃ©crivez le type de consultation recherchÃ©e, vos besoins spÃ©cifiques, le contexte...":"DÃ©crivez prÃ©cisÃ©ment votre besoin, vos objectifs, contraintes techniques...",rows:4,value:projectData.description,onChange:t=>setProjectData(s=>({...s,description:t.target.value}))}),se.description&&e.jsx("div",{className:"mt-2",children:e.jsx(W,{phase:"brief_enhance",prompt:{field:"description",text:projectData.description},onFeedback:()=>V(t=>({...t,description:!1}))})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(me,{className:"w-4 h-4 inline mr-1"}),"Budget en euros *"]}),e.jsx(S,{type:"number",placeholder:"Ex: 5000",min:"10",max:"1000000",value:projectData.budget,onChange:t=>setProjectData(s=>({...s,budget:t.target.value})),required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Montant en euros (entre 10â‚¬ et 1 000 000â‚¬)"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(Xe,{title:projectData.title,description:projectData.description,category:selectedCategory,onPriceSuggestion:t=>{const s=`${t.minPrice} - ${t.maxPrice} â‚¬`;setProjectData(a=>({...a,budget:s})),_({type:"pricing",data:t}),H(!0)}}),Q&&R&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"ðŸ¤– Comment trouvez-vous cette suggestion IA ?"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Votre retour nous aide Ã  amÃ©liorer nos suggestions"})]}),e.jsx(W,{phase:"brief_enhance",prompt:{title:projectData.title,description:projectData.description,category:selectedCategory,suggestion:R},onFeedback:(t,s,a)=>{console.log("Feedback IA reÃ§u:",{accepted:t,rating:s,edits:a}),H(!1),o({title:"Merci pour votre retour !",description:"Vos commentaires nous aident Ã  amÃ©liorer l'IA"})}})]})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(ze,{className:"w-5 h-5 mr-2 text-blue-600"}),"Localisation"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"remote",name:"location-type",checked:!projectData.needsLocation,onChange:()=>setProjectData(t=>({...t,needsLocation:!1,location:{...t.location,address:""}})),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"remote",className:"text-sm font-medium text-gray-700",children:"Ã€ distance"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"onsite",name:"location-type",checked:projectData.needsLocation,onChange:()=>setProjectData(t=>({...t,needsLocation:!0})),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"onsite",className:"text-sm font-medium text-gray-700",children:"Intervention sur site"})]})]}),projectData.needsLocation&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code postal (5 chiffres) *"}),e.jsx(S,{type:"text",placeholder:"Ex: 75001",pattern:"[0-9]{5}",maxLength:5,value:projectData.location.address,onChange:t=>{const s=t.target.value.replace(/[^0-9]/g,"").slice(0,5);setProjectData(a=>({...a,location:{...a.location,address:s}}))},className:"w-40"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Saisissez le code postal de l'intervention"})]})]}),p&&e.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:"ðŸ‘¥ Composition de l'Ã©quipe"}),e.jsxs(w,{type:"button",variant:"outline",size:"sm",onClick:A,"data-testid":"button-add-team-role",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Ajouter une spÃ©cialitÃ©"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"DÃ©finissez les diffÃ©rentes spÃ©cialitÃ©s recherchÃ©es pour votre projet"}),g.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"Aucune spÃ©cialitÃ© ajoutÃ©e"}),e.jsx("p",{className:"text-sm mt-2",children:'Cliquez sur "Ajouter une spÃ©cialitÃ©" pour commencer'})]}),e.jsx("div",{className:"space-y-3",children:g.map((t,s)=>e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(k,{className:"text-xs text-gray-600",children:"Profession *"}),e.jsx(S,{value:t.profession,onChange:a=>v(s,"profession",a.target.value),placeholder:"Ex: DÃ©veloppeur Frontend","data-testid":`input-team-profession-${s}`})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-xs text-gray-600",children:"Budget (â‚¬) *"}),e.jsx(S,{type:"number",value:t.estimated_budget,onChange:a=>v(s,"estimated_budget",Number(a.target.value)),placeholder:"1000","data-testid":`input-team-budget-${s}`})]})]}),e.jsx(w,{type:"button",variant:"ghost",size:"sm",onClick:()=>xe(s),className:"ml-2","data-testid":`button-remove-team-role-${s}`,children:e.jsx(Ee,{className:"w-4 h-4 text-red-500"})})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-xs text-gray-600",children:"Description du rÃ´le"}),e.jsx(ae,{value:t.description,onChange:a=>v(s,"description",a.target.value),placeholder:"DÃ©crivez les responsabilitÃ©s...",rows:2,"data-testid":`textarea-team-description-${s}`})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(k,{className:"text-xs text-gray-600",children:"Jours estimÃ©s"}),e.jsx(S,{type:"number",value:t.estimated_days,onChange:a=>v(s,"estimated_days",Number(a.target.value)),placeholder:"10","data-testid":`input-team-days-${s}`})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-xs text-gray-600",children:"ExpÃ©rience (annÃ©es)"}),e.jsx(S,{type:"number",value:t.min_experience,onChange:a=>v(s,"min_experience",Number(a.target.value)),placeholder:"2","data-testid":`input-team-experience-${s}`})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-xs text-gray-600",children:"Importance"}),e.jsxs(De,{value:t.importance,onValueChange:a=>v(s,"importance",a),children:[e.jsx(Pe,{"data-testid":`select-team-importance-${s}`,children:e.jsx(Te,{})}),e.jsxs(qe,{children:[e.jsx(X,{value:"high",children:"Haute"}),e.jsx(X,{value:"medium",children:"Moyenne"}),e.jsx(X,{value:"low",children:"Basse"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-xs text-gray-600",children:"CompÃ©tences requises (sÃ©parÃ©es par des virgules)"}),e.jsx(S,{value:t.required_skills.join(", "),onChange:a=>he(s,a.target.value),placeholder:"React, TypeScript, CSS","data-testid":`input-team-skills-${s}`}),t.required_skills.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.required_skills.map((a,N)=>e.jsx(T,{variant:"outline",className:"text-xs",children:a},N))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{checked:t.is_lead_role,onCheckedChange:a=>v(s,"is_lead_role",a),"data-testid":`switch-team-lead-${s}`}),e.jsx(k,{className:"text-sm",children:"RÃ´le de chef d'Ã©quipe"})]})]})},s))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(w,{variant:"outline",onClick:()=>f(1),children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsx(w,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transform transition-all duration-300 hover:scale-105 hover:shadow-xl disabled:hover:scale-100 disabled:hover:shadow-none",disabled:D||!projectData.title.trim()||!projectData.description.trim()||!projectData.budget.trim()||isNaN(Number(projectData.budget))||Number(projectData.budget)<10||Number(projectData.budget)>1e6||projectData.needsLocation&&(!projectData.location.address||projectData.location.address.length!==5),onClick:pe,"data-testid":"button-create-mission",children:D?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"CrÃ©ation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),p?"CrÃ©er le projet Ã©quipe":"Publier la mission"]})})]})]})]})}];return e.jsx("div",{className:"w-full max-w-6xl mx-auto progressive-flow-container",children:e.jsxs("div",{className:"bg-transparent pb-24",children:[e.jsx("div",{className:"px-4 relative progressive-flow-step",children:ue[h+1]()}),h>=0&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50/5 via-indigo-50/5 to-purple-50/5 p-4 rounded-xl mt-6 mb-6 border border-blue-200/20 backdrop-blur-sm progressive-flow-progress",children:[e.jsx("div",{className:"mb-3",children:e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Ã‰tape ",h+1," sur 3"]})}),e.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 rounded-full transition-all duration-700 ease-out shadow-sm relative",style:{width:`${(h+1)/3*100}%`},children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-full"})})})]})]})})}export{wt as P};
