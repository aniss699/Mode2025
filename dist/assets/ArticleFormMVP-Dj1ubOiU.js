import{r as o,j as e}from"./ui-D9tbKjPW.js";import{I as f,B as c}from"./index-DnPjCYKK.js";import{m as h}from"./mvpStore-mrMlMRB0.js";function g(){return"xxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s==="x"?t:t&3|8).toString(16)})}function v({onSaved:s}){const[t,n]=o.useState(""),[l,i]=o.useState([]),u="me";async function m(r){r.preventDefault();const x=[];for(const d of l){const p=URL.createObjectURL(d);x.push(p)}const a={id:g(),userId:u,title:t||"Article sans titre",images:x,isPublic:!0,createdAt:new Date().toISOString(),likes:[]};h.addArticle(a),n(""),i([]),s&&s(a)}return e.jsxs("form",{onSubmit:m,className:"border rounded p-4 space-y-3 bg-white shadow-sm",children:[e.jsx("h3",{className:"font-semibold",children:"Ajouter un article Ã  ton dressing"}),e.jsx(f,{placeholder:"Titre (ex: Veste en jean)",value:t,onChange:r=>n(r.target.value)}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:r=>i(Array.from(r.target.files||[]))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(c,{type:"submit",children:"Enregistrer"}),e.jsx(c,{variant:"ghost",onClick:()=>{n(""),i([])},children:"Annuler"})]})]})}export{v as A};
