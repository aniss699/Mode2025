import{r as l,j as e}from"./ui-D9tbKjPW.js";import{e as S,f as T,a as B,g as z,u as P,U as L,B as n,C as f,c as v,a0 as j,b as q,i as R}from"./index-LqObwSZ0.js";import{B as d}from"./badge-BEVVyNLE.js";import{T as F}from"./textarea-C0reNeNn.js";import"./select-MIOaZk66.js";import"./switch-HA3idyS_.js";import{H as M}from"./house-DX247BMN.js";import{S as h}from"./star-2Q5KqOl3.js";import{C as x}from"./chevron-left-DyDpooNM.js";import{C as A}from"./circle-plus-CfxMNsjD.js";function je({onComplete:I,onSubmit:U,isLoading:E,error:$,initialStep:b=-1}){const{user:D}=S();T();const{t:G}=B(),y=()=>{if(typeof window<"u"){const t=new URLSearchParams(window.location.search).get("step");if(t){const s=parseInt(t);if(!isNaN(s))return s}}return b},[c,o]=l.useState(y()),[p,H]=l.useState(!1),[O,J]=l.useState(null),{toast:N}=z(),[,w]=P(),[Q,V]=l.useState(!1),[K,Y]=l.useState(!1),[Z,W]=l.useState([]),[g,k]=l.useState(null),[r,m]=l.useState({persona:null,favoriteBrands:[],styleTags:[],firstLooks:[],bio:""}),[X,_]=l.useState(null),[ee,se]=l.useState(!1),[te,ae]=l.useState({});l.useEffect(()=>{const a=setTimeout(()=>{},100);return()=>clearTimeout(a)},[c]);const C=[()=>e.jsx("div",{className:"w-full min-h-[100svh] md:h-screen md:max-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 overflow-y-auto md:overflow-hidden",children:e.jsx("div",{className:"flex flex-col justify-start md:justify-center items-center h-full px-2 pt-2 pb-4 md:px-6 md:py-8",children:e.jsxs("div",{className:"text-center w-full max-w-5xl mx-auto space-y-2 md:space-y-8 flex flex-col md:justify-center min-h-0",children:[e.jsxs("div",{className:"space-y-2 md:space-y-6 relative flex-shrink-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-600/10 via-purple-600/10 to-pink-600/10 rounded-3xl blur-3xl opacity-30"}),e.jsxs("div",{className:"relative max-w-4xl mx-auto px-3",children:[e.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl text-gray-800 dark:text-white font-semibold leading-[1.3]",children:"Votre garde-robe devient votre portfolio de style"}),e.jsx("p",{className:"text-sm md:text-lg text-gray-600 dark:text-gray-300 mt-2 md:mt-4",children:"Partagez vos looks, dÃ©couvrez l'inspiration, crÃ©ez votre identitÃ© mode"}),e.jsx("div",{className:"w-16 md:w-24 h-1 bg-gradient-to-r from-pink-600 to-purple-600 rounded-full mx-auto mt-2 md:mt-4"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-6 max-w-4xl mx-auto flex-none md:flex-1 md:min-h-0",children:[e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-2xl p-3 md:p-6 text-center space-y-2 md:space-y-3 group hover:bg-white/80 dark:hover:bg-gray-800/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border border-pink-100/50 dark:border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 mx-auto bg-gradient-to-br from-pink-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(M,{className:"w-5 h-5 md:w-8 md:h-8 text-white"})}),e.jsx("h3",{className:"text-sm md:text-lg font-bold text-gray-900 dark:text-white",children:"Dressing virtuel"}),e.jsx("p",{className:"text-xs md:text-base text-gray-600 dark:text-gray-300 leading-relaxed",children:"Organisez votre garde-robe, crÃ©ez des looks, partagez votre style unique"})]}),e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-2xl p-3 md:p-6 text-center space-y-2 md:space-y-3 group hover:bg-white/80 dark:hover:bg-gray-800/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border border-purple-100/50 dark:border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 mx-auto bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(L,{className:"w-5 h-5 md:w-8 md:h-8 text-white"})}),e.jsx("h3",{className:"text-sm md:text-lg font-bold text-gray-900 dark:text-white",children:"Feed d'inspiration"}),e.jsx("p",{className:"text-xs md:text-base text-gray-600 dark:text-gray-300 leading-relaxed",children:"DÃ©couvrez les looks de la communautÃ©, suivez vos fashionistas prÃ©fÃ©rÃ©s"})]}),e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-2xl p-3 md:p-6 text-center space-y-2 md:space-y-3 group hover:bg-white/80 dark:hover:bg-gray-800/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border border-blue-100/50 dark:border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 mx-auto bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(h,{className:"w-5 h-5 md:w-8 md:h-8 text-white"})}),e.jsx("h3",{className:"text-sm md:text-lg font-bold text-gray-900 dark:text-white",children:"IA Fashion"}),e.jsx("p",{className:"text-xs md:text-base text-gray-600 dark:text-gray-300 leading-relaxed",children:"Suggestions de looks automatiques, dÃ©tection de tendances, conseils personnalisÃ©s"})]})]}),e.jsx("div",{className:"flex justify-center items-center mt-3 md:mt-12 px-4 flex-shrink-0",children:e.jsx(n,{onClick:()=>o(0),className:"w-full sm:w-auto bg-gradient-to-r from-pink-600 via-purple-600 to-pink-600 hover:from-pink-700 hover:via-purple-700 hover:to-pink-700 text-white px-6 py-2 md:px-12 md:py-4 rounded-2xl font-semibold transition-all duration-300 text-sm md:text-lg shadow-xl hover:shadow-2xl hover:scale-105 transform",size:"lg","data-testid":"button-create-profile",children:e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"CrÃ©er mon profil mode"}),e.jsx("span",{className:"animate-bounce",children:"âœ¨"})]})})}),e.jsx("div",{className:"mt-2 md:mt-8 flex-shrink-0",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs md:text-sm px-4 opacity-75",children:"Rejoignez des milliers de fashionistas qui partagent leur style"})})]})})}),()=>{const a=[{id:"fashionista",name:"Fashionista",icon:"ðŸŒŸ",description:"Je partage rÃ©guliÃ¨rement mes outfits et suis les tendances",color:"from-pink-500 to-rose-500"},{id:"minimalist",name:"Minimaliste",icon:"ðŸŽ¨",description:"Garde-robe capsule, qualitÃ© > quantitÃ©",color:"from-gray-500 to-slate-500"},{id:"influencer",name:"Influenceur",icon:"ðŸ’Ž",description:"CrÃ©ateur de contenu avec une grande collection",color:"from-purple-500 to-indigo-500"},{id:"sustainable",name:"Eco-responsable",icon:"ðŸŒ±",description:"Seconde main, vide-dressing et mode durable",color:"from-green-500 to-emerald-500"}];return e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Quel est votre style ?"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Choisissez la persona qui vous correspond le mieux"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-3xl mx-auto",children:a.map(t=>e.jsx(f,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group ${g===t.id?"ring-4 ring-offset-2 ring-pink-500 bg-pink-50":"hover:bg-gray-50"}`,onClick:()=>{k(t.id),m(s=>({...s,persona:t.id})),setTimeout(()=>o(1),400)},children:e.jsxs(v,{className:"p-6 text-center",children:[e.jsx("div",{className:`w-20 h-20 mx-auto mb-4 bg-gradient-to-br ${t.color} rounded-full flex items-center justify-center text-4xl shadow-lg group-hover:scale-110 transition-transform`,children:t.icon}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:t.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]})},t.id))}),e.jsxs(n,{variant:"outline",onClick:()=>o(-1),className:"mt-4",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Retour"]})]})},()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Partagez vos premiers looks"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Uploadez 3 Ã  5 photos de vos tenues prÃ©fÃ©rÃ©es pour commencer"})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-pink-500 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:a=>{if(a.target.files){const t=Array.from(a.target.files).slice(0,5);m(s=>({...s,firstLooks:t}))}},className:"hidden",id:"look-upload"}),e.jsx("label",{htmlFor:"look-upload",className:"cursor-pointer",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-pink-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Cliquez pour uploader vos photos"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"JPG, PNG jusqu'Ã  10MB chacune"})]})]})})]}),r.firstLooks.length>0&&e.jsx("div",{className:"mt-6 grid grid-cols-3 gap-4",children:r.firstLooks.map((a,t)=>e.jsx("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100",children:e.jsx("img",{src:URL.createObjectURL(a),alt:`Look ${t+1}`,className:"w-full h-full object-cover"})},t))})]}),e.jsxs("div",{className:"flex justify-between max-w-2xl mx-auto",children:[e.jsxs(n,{variant:"outline",onClick:()=>o(0),children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsxs(n,{onClick:()=>o(2),disabled:r.firstLooks.length<1,className:"bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700",children:["Continuer",e.jsx(j,{className:"w-4 h-4 ml-2"})]})]})]}),()=>{const a=["Vintage","Streetwear","Minimaliste","BohÃ¨me","Chic","Sportswear","Casual","Elegant","Rock","Preppy","Grunge","Y2K","Cottagecore","Dark Academia"],t=["Zara","H&M","Nike","Adidas","Uniqlo","COS","Mango","Pull&Bear","Bershka","Massimo Dutti"];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"DÃ©finissez votre style"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"SÃ©lectionnez vos tags et marques prÃ©fÃ©rÃ©es"})]}),e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-lg font-semibold text-gray-900",children:"Tags de style"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(s=>e.jsx(d,{variant:r.styleTags.includes(s)?"default":"outline",className:`cursor-pointer px-4 py-2 text-sm transition-all ${r.styleTags.includes(s)?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"hover:bg-gray-100"}`,onClick:()=>{m(i=>({...i,styleTags:i.styleTags.includes(s)?i.styleTags.filter(u=>u!==s):[...i.styleTags,s]}))},children:s},s))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-lg font-semibold text-gray-900",children:"Marques favorites"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(s=>e.jsx(d,{variant:r.favoriteBrands.includes(s)?"default":"outline",className:`cursor-pointer px-4 py-2 text-sm transition-all ${r.favoriteBrands.includes(s)?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white":"hover:bg-gray-100"}`,onClick:()=>{m(i=>({...i,favoriteBrands:i.favoriteBrands.includes(s)?i.favoriteBrands.filter(u=>u!==s):[...i.favoriteBrands,s]}))},children:s},s))})]})]}),e.jsxs("div",{className:"flex justify-between max-w-3xl mx-auto",children:[e.jsxs(n,{variant:"outline",onClick:()=>o(1),children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsxs(n,{onClick:()=>o(3),disabled:r.styleTags.length===0,className:"bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700",children:["Continuer",e.jsx(j,{className:"w-4 h-4 ml-2"})]})]})]})},()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Finalisez votre profil"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Ajoutez une bio pour vous prÃ©senter Ã  la communautÃ©"})]}),e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio (optionnel)"}),e.jsx(F,{placeholder:"Parlez de votre style, vos inspirations, ce qui vous passionne dans la mode...",rows:4,value:r.bio,onChange:a=>m(t=>({...t,bio:a.target.value})),className:"resize-none"})]}),e.jsxs(f,{className:"bg-gradient-to-br from-pink-50 to-purple-50 border-pink-200",children:[e.jsx(q,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-5 h-5 text-pink-600"}),"RÃ©capitulatif de votre profil"]})}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Persona"}),e.jsx("p",{className:"text-lg font-semibold capitalize",children:g})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Looks uploadÃ©s"}),e.jsxs("p",{className:"text-lg font-semibold",children:[r.firstLooks.length," photo(s)"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tags de style"}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[r.styleTags.slice(0,5).map(a=>e.jsx(d,{variant:"secondary",className:"text-xs",children:a},a)),r.styleTags.length>5&&e.jsxs(d,{variant:"secondary",className:"text-xs",children:["+",r.styleTags.length-5]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Marques favorites"}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[r.favoriteBrands.slice(0,5).map(a=>e.jsx(d,{variant:"outline",className:"text-xs",children:a},a)),r.favoriteBrands.length>5&&e.jsxs(d,{variant:"outline",className:"text-xs",children:["+",r.favoriteBrands.length-5]})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between max-w-2xl mx-auto",children:[e.jsxs(n,{variant:"outline",onClick:()=>o(2),children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsx(n,{onClick:()=>{N({title:"Profil crÃ©Ã© ! ðŸŽ‰",description:"Bienvenue dans la communautÃ© mode !"}),w("/explore")},disabled:p,className:"bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 transform transition-all duration-300 hover:scale-105 hover:shadow-xl",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"CrÃ©ation..."]}):e.jsxs(e.Fragment,{children:["CrÃ©er mon profil",e.jsx(h,{className:"w-4 h-4 ml-2"})]})})]})]})];return e.jsx("div",{className:"w-full max-w-6xl mx-auto progressive-flow-container",children:e.jsxs("div",{className:"bg-transparent pb-24",children:[e.jsx("div",{className:"px-4 relative progressive-flow-step",children:C[c+1]()}),c>=0&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50/5 via-indigo-50/5 to-purple-50/5 p-4 rounded-xl mt-6 mb-6 border border-blue-200/20 backdrop-blur-sm progressive-flow-progress",children:[e.jsx("div",{className:"mb-3",children:e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Ã‰tape ",c+1," sur 4"]})}),e.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 rounded-full transition-all duration-700 ease-out shadow-sm relative",style:{width:`${(c+1)/4*100}%`},children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-full"})})})]})]})})}export{je as P};
